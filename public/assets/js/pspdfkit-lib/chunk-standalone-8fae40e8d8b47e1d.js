/*!
 * PSPDFKit for Web 2022.5.5 (https://pspdfkit.com/web)
 *
 * Copyright (c) 2016-2022 PSPDFKit GmbH. All rights reserved.
 *
 * THIS SOURCE CODE AND ANY ACCOMPANYING DOCUMENTATION ARE PROTECTED BY INTERNATIONAL COPYRIGHT LAW
 * AND MAY NOT BE RESOLD OR REDISTRIBUTED. USAGE IS BOUND TO THE PSPDFKIT LICENSE AGREEMENT.
 * UNAUTHORIZED REPRODUCTION OR DISTRIBUTION IS SUBJECT TO CIVIL AND CRIMINAL PENALTIES.
 * This notice may not be removed from this file.
 *
 * PSPDFKit uses several open source third-party components: https://pspdfkit.com/acknowledgements/web/
 */
(self.webpackChunkPSPDFKit=self.webpackChunkPSPDFKit||[]).push([[3610],{72098:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(96156),o=r(42876),i=r.n(o),s=r(35369),a=r(70545),u=r(63880);const c=()=>{};class l{constructor(){(0,n.Z)(this,"_worker",new(i())),(0,n.Z)(this,"_requests",(0,s.D5)()),(0,n.Z)(this,"_nextRequestId",1),(0,n.Z)(this,"_isLoading",!0),(0,n.Z)(this,"_loadPromise",null),(0,n.Z)(this,"_initPromise",null),(0,n.Z)(this,"_hasOpenedDocument",!1),(0,n.Z)(this,"_hasLoadedCertificates",!1),(0,n.Z)(this,"_handleMessage",(t=>{const e=t.data,r=this._requests.get(e.id);(0,a.kG)(r,`No request was made for id ${e.id}.`);const{resolve:n,reject:o}=r;if(this._requests=this._requests.delete(e.id),e.error){const t=new a.p2(e.error);t.callArgs=e.callArgs,o(t)}else n(e.result)})),this._worker.onmessage=this._handleMessage}loadNativeModule(t,e){let{mainThreadOrigin:r,disableWebAssembly:n,disableWebAssemblyStreaming:o,enableAutomaticLinkExtraction:i,overrideMemoryLimit:s}=e;return(0,a.kG)(!this._hasOpenedDocument,"cannot invoke `loadNativeModule` while an instance is still in use. Please call `recycle` first."),this._loadPromise?this._loadPromise.then((()=>{})):(this._initPromise||(this._initPromise=this._sendRequest("loadNativeModule",[t,{mainThreadOrigin:r,disableWebAssembly:n,disableWebAssemblyStreaming:o,enableAutomaticLinkExtraction:i,overrideMemoryLimit:s}]).then((t=>t)).catch((t=>{throw this._isLoading=!1,this._worker.terminate(),t}))),this._initPromise)}load(t,e,r){let{mainThreadOrigin:n,customFonts:o,isSharePoint:i,isSalesforce:s}=r;return(0,a.kG)(!this._hasOpenedDocument,"cannot invoke `load` while an instance is still in use. Please call `recycle` first."),this._loadPromise||(this._loadPromise=this._sendRequest("load",[t,e,{mainThreadOrigin:n,customFonts:o,isSharePoint:i,isSalesforce:s}]).then((t=>(this._isLoading=!1,t))).catch((t=>{throw this._isLoading=!1,this._worker.terminate(),t}))),this._loadPromise}version(){return this._assertLoaded(),this._sendRequest("version")}openDocument(t,e,r){return this._assertLoaded(),this._hasOpenedDocument=!0,this._sendRequest("openDocument",[t,e,r]).catch((t=>{throw this._hasOpenedDocument=!1,t}))}async openDocumentAt(){throw new Error("Should never be called")}async getAllPageInfos(t){return this._assertLoaded(),this._sendRequest("getAllPageInfos",[t])}async enablePDFJavaScriptSupport(){return this._assertLoaded(),this._sendRequest("enablePDFJavaScriptSupport")}async runPDFFormattingScripts(t,e){return this._assertLoaded(),this._sendRequest("runPDFFormattingScripts",[t,e])}getBookmarks(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getBookmarks")}getFormJSON(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getFormJSON")}evalFormValuesActions(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("evalFormValuesActions",[t])}evalScript(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("evalScript",[t,e])}setFormJSONUpdateBatchMode(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("setFormJSONUpdateBatchMode",[t])}getFormValues(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getFormValues")}closeDocument(){return this._assertLoaded(),this._hasOpenedDocument=!1,this._sendRequest("closeDocument")}renderTile(t,e,r,n,o,i,s,a){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderTile",[t,e,r,n,o,i,s,a])}renderAnnotation(t,e,r,n,o,i){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderAnnotation",[t,e,r,n,o,i])}renderPageAnnotations(t,e,r,n,o){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderPageAnnotations",[t,e,r,n,o])}renderDetachedAnnotation(t,e,r,n,o){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("renderDetachedAnnotation",[t,e,r,n,o])}onKeystrokeEvent(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("onKeystrokeEvent",[t])}getAttachment(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getAttachment",[t])}textForPageIndex(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("textForPageIndex",[t])}annotationsForPageIndex(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("annotationsForPageIndex",[t])}createAnnotation(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("createAnnotation",[t,e])}updateAnnotation(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("updateAnnotation",[t])}deleteAnnotation(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteAnnotation",[t])}createFormField(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("createFormField",[t,e])}updateFormField(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("updateFormField",[t,e])}deleteFormField(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteFormField",[t])}setFormFieldValue(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("setFormFieldValue",[t])}deleteFormFieldValue(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteFormFieldValue",[t])}createBookmark(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("createBookmark",[t])}updateBookmark(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("updateBookmark",[t])}deleteBookmark(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("deleteBookmark",[t])}getTextFromRects(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getTextFromRects",[t,e])}search(t,e,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.S.TEXT;return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("search",[t,e,r,n,o])}getMeasurementSnappingPoints(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getMeasurementSnappingPoints",[t])}parseXFDF(t){return this._sendRequest("parseXFDF",[t])}getEmbeddedFilesList(){return this._sendRequest("getEmbeddedFilesList")}exportFile(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportFile",[t,e,r,n,o,i])}importXFDF(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("importXFDF",[t,e])}exportXFDF(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportXFDF",[])}importInstantJSON(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("importInstantJSON",[t])}exportInstantJSON(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportInstantJSON",[])}getDocumentOutline(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getDocumentOutline")}applyOperations(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("applyOperations",[t,e])}reloadDocument(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("reloadDocument")}exportPDFWithOperations(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("exportPDFWithOperations",[t,e])}loadCertificates(t){return this._assertLoaded(),this._assertDocumentOpen(),this._hasLoadedCertificates=Boolean(t.length),this._sendRequest("loadCertificates",[t]).catch((t=>{throw this._hasLoadedCertificates=!1,t}))}getSignaturesInfo(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("getSignaturesInfo",[])}prepareSignInvisible(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("prepareSignInvisible",[t,e])}sign(t,e,r){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("sign",[t,e,r])}restoreToOriginalState(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("restoreToOriginalState")}applyRedactions(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("applyRedactions",[])}readFormJSONObjects(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("readFormJSONObjects")}clearAPStreamCache(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("clearAPStreamCache")}setComparisonDocument(t,e){return this._assertLoaded(),e||this._assertDocumentOpen(),this._sendRequest("setComparisonDocument",[t,e])}openComparisonDocument(t){return this._assertLoaded(),this._hasOpenedDocument=!0,this._sendRequest("openComparisonDocument",[t]).catch((t=>{throw this._hasOpenedDocument=!1,t}))}documentCompareAndOpen(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("documentCompareAndOpen",[t])}persistOpenDocument(t){return this._assertLoaded(),t||this._assertDocumentOpen(),this._sendRequest("persistOpenDocument",[t])}cleanupDocumentComparison(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("cleanupDocumentComparison")}contentEditorEnter(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorEnter",[])}contentEditorExit(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorExit",[])}contentEditorGetTextBlocks(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorGetTextBlocks",[t])}contentEditorRenderTextBlock(t,e,r){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorRenderTextBlock",[t,e,r])}contentEditorSetTextBlockCursor(t,e,r,n){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorSetTextBlockCursor",[t,e,r,n])}contentEditorMoveTextBlockCursor(t,e,r,n){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorMoveTextBlockCursor",[t,e,r,n])}contentEditorInsertTextBlockString(t,e,r){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorInsertTextBlockString",[t,e,r])}contentEditorDeleteTextBlockString(t,e,r){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorDeleteTextBlockString",[t,e,r])}contentEditorSetTextBlockSelection(t,e,r){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorSetTextBlockSelection",[t,e,r])}contentEditorSetTextBlockSelectionRange(t,e,r,n,o){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorSetTextBlockSelectionRange",[t,e,r,n,o])}contentEditorTextBlockUndo(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorTextBlockUndo",[t,e])}contentEditorTextBlockRedo(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorTextBlockRedo",[t,e])}contentEditorTextBlockApplyFormat(t,e,r){return this._sendRequest("contentEditorTextBlockApplyFormat",[t,e,r])}contentEditorGetAvailableFaces(){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorGetAvailableFaces",[])}contentEditorResolveFace(t,e){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorResolveFace",[t,e])}contentEditorSave(t){return this._assertLoaded(),this._assertDocumentOpen(),this._sendRequest("contentEditorSave",[t])}recycle(){this._hasLoadedCertificates&&this.loadCertificates([]),this._hasOpenedDocument&&this.closeDocument(),this._isLoading||(this._requests=this._requests.map((()=>({resolve:c,reject:c}))))}destroy(){this._loadPromise=null,this._worker.terminate()}_assertLoaded(){if(this._isLoading)throw new a.p2("CoreClient not yet initialized")}_assertDocumentOpen(){if(!this._hasOpenedDocument)throw new a.p2("This method can not be called since there is no open document. Have you run PSPDFKit.unload()?")}_sendRequest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(((r,n)=>{const o=this._assignId(),i=e.filter((t=>t instanceof ArrayBuffer));this._worker.postMessage({id:o,action:t,args:e},i),this._requests=this._requests.set(o,{resolve:r,reject:n})}))}_assignId(){const t=this._nextRequestId;return this._nextRequestId=this._nextRequestId+1,t}}},29412:(t,e,r)=>{"use strict";r.d(e,{W:()=>u});var n=r(96156),o=r(35369),i=r(33502),s=r(70545),a=r(50893);class u{constructor(){(0,n.Z)(this,"cachedAPStreams",(0,o.D5)()),(0,n.Z)(this,"pageAPStreamsPromises",(0,o.D5)()),(0,n.Z)(this,"annotationAPStreamPromises",(0,o.D5)())}cachedRenderAnnotation(t,e,r,n,o){var u;const c=this.provider;(0,s.kG)(c instanceof c.constructor,"Backend can only use backend annotation provider");const l=t instanceof i.x_?null===(u=c._readStateCallbacks)||void 0===u?void 0:u.getFormFieldByName(t.formFieldName):null,h=!l||l instanceof i.Yo?null:new i.KD({name:l.name,value:void 0!==l.formattedValue?l.formattedValue:"string"==typeof l.value?l.value:l.values});if(!(0,a._R)(t,l))return this.renderAnnotation(t,h,e,r,n,o);let f=!1,d=()=>{f=!0};return{promise:new Promise((async(i,s)=>{const a=e=>{const r=this.annotationAPStreamPromises.get(t.id);r&&(this.annotationAPStreamPromises=this.annotationAPStreamPromises.delete(t.id),r(e))},u=this.annotationAPStreamPromises.get(t.id);this.annotationAPStreamPromises=this.annotationAPStreamPromises.set(t.id,i),u&&u(null);try{const s=this.pageAPStreamsPromises.get(t.pageIndex);if(!s){const e=new Promise((e=>{this.annotationAPStreamPromises=this.annotationAPStreamPromises.set(t.id,e)}));return void i(await e)}await s;const u=this.cachedAPStreams.get(t.pageIndex);if(u&&!o){const e=u?u.get(t.id):null;if(e)return void a(e)}const{promise:c,cancel:l}=this.renderAnnotation(t,h,e,r,n,o);if(f)a(null);else{d=l;const e=await c;a(e),e&&!o&&this.cacheAPStream(e,t)}}catch(t){s(t)}})),cancel:d}}cacheAPStream(t,e){let r=this.cachedAPStreams.get(e.pageIndex);r||(this.cachedAPStreams=this.cachedAPStreams.set(e.pageIndex,(0,o.D5)()),r=this.cachedAPStreams.get(e.pageIndex)),(0,s.kG)(r),this.cachedAPStreams=this.cachedAPStreams.setIn([e.pageIndex,e.id],t)}clearAllPageAPStreams(t){const e=this.cachedAPStreams.get(t);e&&(e.forEach((t=>{t.release()})),this.cachedAPStreams=this.cachedAPStreams.delete(t)),this.pageAPStreamsPromises=this.pageAPStreamsPromises.delete(t)}clearPageAPStreams(t,e){const r=this.cachedAPStreams.get(t);r&&(r.filter(((t,r)=>e.has(r))).forEach((t=>{t.release()})),this.cachedAPStreams=this.cachedAPStreams.updateIn([t],(t=>t.filter(((t,r)=>!e.has(r))))))}}},46777:(t,e,r)=>{"use strict";r.r(e),r.d(e,{corePool:()=>H,customFontsPromiseRef:()=>st,default:()=>it,loadModule:()=>at,normalizeCoreOptions:()=>Z,validateStandaloneConfiguration:()=>Q});var n=r(96156),o=r(14968),i=r(35369),s=r(70545),a=r(81253),u=r(24956),c=r(19491),l=r(50893),h=r(29412),f=r(89595),d=r(80614),p=r(89777),m=r(41371),y=r(81928),g=r(57106),v=r(10163),_=r(51983),b=r(33502);const w=["rollover","down"];function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class x extends((0,i.WV)({alreadyLoadedPages:(0,i.D5)(),isLoaded:!1,isDestroyed:!1})){}const k={skippedPdfObjectIds:[],skippedPdfBookmarkIds:[],annotations:[],bookmarks:[],formFieldValues:[],formFields:[],attachments:{}};class A{constructor(t,e){(0,n.Z)(this,"_state",new x),(0,n.Z)(this,"_formFieldsLoadedPromise",null),(0,n.Z)(this,"_objectCreationPromises",(0,i.D5)()),(0,n.Z)(this,"_loadBookmarksPromise",null),(0,n.Z)(this,"canCreateBackendOrphanWidgets",!1),this._core=t,this._json=e?I(e):null,this._setReadStateCallbacksPromise=new Promise((t=>{this._setReadStateCallbacksPromiseResolve=t}))}async load(){if(this._state=this._state.set("isLoaded",!0),!this._formFieldCallbacks&&await this._loadFormFieldValues(),!this._json)return this;await this._core.importInstantJSON(O(O({},k),this._json)),(0,s.kG)(this._json);const{annotations:t,attachments:e}=this._json;if(this._isDestroyed()||!e||0===Object.entries(e).length)return this;if(t)for(let r=0;r<t.length;r++){let n=null;if(t[r].imageAttachmentId){const o=e?e[t[r].imageAttachmentId]:null;if(o)try{n=(0,g.Jc)(atob(o.binary),o.contentType),(0,s.kG)(this._annotationCallbacks),this._annotationCallbacks.createAttachment(t[r].imageAttachmentId,n)}catch(e){(0,s.um)(`Skipped attachment with id ${t[r].imageAttachmentId} from payload because an error occurred while converting the binary image to blob.`),(0,s.um)(e)}}}return this}destroy(){this._state=this._state.set("isDestroyed",!0),this._annotationCallbacks=null,this._readStateCallbacks=null,this._bookmarkCallbacks=null,this._formFieldCallbacks=null,this._formFieldValueCallbacks=null}setReadStateCallbacks(t){var e;this._readStateCallbacks=t,null===(e=this._setReadStateCallbacksPromiseResolve)||void 0===e||e.call(this)}setAnnotationCallbacks(t){this._annotationCallbacks=t}setBookmarkCallbacks(t){this._bookmarkCallbacks=t}setFormFieldCallbacks(t){this._formFieldCallbacks=t}setFormFieldValueCallbacks(t){this._formFieldValueCallbacks=t}setCommentCallbacks(){}createComment(){return Promise.reject("Comments are not supported in Standalone.")}deleteComment(){return Promise.reject("Comments are not supported in Standalone.")}updateComment(){return Promise.reject("Comments are not supported in Standalone.")}createAnnotation(t,e){this._verifyLoaded();const r=e.find(((e,r)=>r===t.imageAttachmentId));return this._core.createAnnotation((0,m.Hs)(t),r?r.data:null).then((e=>{"number"!=typeof e||"number"!=typeof t.pdfObjectId||t.pdfObjectId===e||this._isDestroyed()||((0,s.kG)(this._annotationCallbacks),this._annotationCallbacks.updateAnnotations((0,i.aV)([t.set("pdfObjectId",e)])))}))}updateAnnotation(t){return this._verifyLoaded(),this._core.updateAnnotation((0,m.Hs)(t))}deleteAnnotation(t){return this._verifyLoaded(),this._core.deleteAnnotation((0,m.Hs)(t))}createBookmark(t){return this._verifyLoaded(),this._core.createBookmark((0,y.a)(t))}updateBookmark(t){return this._verifyLoaded(),this._core.updateBookmark((0,y.a)(t))}deleteBookmark(t){return this._verifyLoaded(),this._core.deleteBookmark(t)}createFormField(t){this._verifyLoaded(),(0,s.kG)(this._readStateCallbacks);const e=this._readStateCallbacks.getFormFieldWidgets(t);return this._core.createFormField((0,m.vD)(t),e.map(m.Hs).toArray())}updateFormField(t){this._verifyLoaded(),(0,s.kG)(this._readStateCallbacks);const e=this._readStateCallbacks.getFormFieldWidgets(t);return this._core.updateFormField((0,m.vD)(t),e.map(m.Hs).toArray())}deleteFormField(t){return this._verifyLoaded(),this._core.deleteFormField((0,m.vD)(t))}loadFormFields(){return this._formFieldsLoadedPromise||(this._formFieldsLoadedPromise=this._loadFormFields()),this._formFieldsLoadedPromise}async _loadFormFields(){this._verifyLoaded();const t=await this._core.readFormJSONObjects();let e=(0,i.aV)(),r=(0,i.aV)().withMutations((r=>{t.forEach((t=>{const{formField:n,widgets:o,value:i}=t;try{let t;t=n.pdfObjectId?n.pdfObjectId.toString():(0,l.xc)();const a=(0,m.IN)(t,n);(0,s.kG)(this._readStateCallbacks),this._readStateCallbacks.isFormFieldInState(a.name)||r.push(a.set("value",i)),o.forEach((t=>{let r;if(r=t.pdfObjectId?t.id||t.pdfObjectId.toString():(0,l.xc)(),(0,s.kG)(this._readStateCallbacks),!this._readStateCallbacks.isAnnotationInState(r)){const n=(0,m.vH)(r,t);e=e.push(n)}}))}catch(t){(0,s.um)(`Skipped creating form field #${n.pdfObjectId} from payload because an error occurred while deserializing.`),(0,s.um)(t)}}))}));e=e.map((t=>{if(e.find((e=>e.pdfObjectId!==t.pdfObjectId&&e.id===t.id&&t.pdfObjectId.toString()!==t.id))){const e=(0,l.xc)();return t instanceof b.x_&&(r=r.map((r=>r.name===t.formFieldName?r.update("annotationIds",(r=>r.map((r=>r===t.id?e:r)))):r))),t.set("id",e)}return t})),r.size>0&&!this._isDestroyed()&&((0,s.kG)(this._formFieldCallbacks),this._formFieldCallbacks.createFormFields(r,_.y)),await this._loadFormFieldValues(),e.size>0&&!this._isDestroyed()&&((0,s.kG)(this._annotationCallbacks),this._annotationCallbacks.createAnnotations(e,(0,i.D5)(),_.y)),this._formFieldsLoadedPromise=Promise.resolve()}createFormFieldValue(t){return this._verifyLoaded(),this.setFormFieldValue(t)}setFormFieldValue(t){return this._verifyLoaded(),this._core.setFormFieldValue((0,m.kr)(t))}deleteFormFieldValue(t){return this._verifyLoaded(),this._core.deleteFormFieldValue(t.replace("form-field-value/",""))}loadAnnotationsForPageIndex(t){this._verifyLoaded();const e=this._state.alreadyLoadedPages.get(t);if(e)return e;const r=this._loadAnnotationsForPageIndex(t);return this._state=this._state.setIn(["alreadyLoadedPages",t],r),r}async _loadAnnotationsForPageIndex(t){const e=await this._core.annotationsForPageIndex(t),r=[],n=[],o=e.map((t=>{let{rollover:e,down:o}=t,i=(0,a.Z)(t,w);return e&&"number"==typeof i.pdfObjectId&&r.push(i.pdfObjectId),o&&"number"==typeof i.pdfObjectId&&n.push(i.pdfObjectId),i})).filter((t=>"number"==typeof t.pageIndex));this._formFieldCallbacks&&await this.loadFormFields();const u=(0,i.aV)().withMutations((t=>{o.filter((t=>!t.id||this._readStateCallbacks&&!this._readStateCallbacks.isAnnotationInState(t.id))).forEach((e=>{e.pdfObjectId;try{const r=e.id||(function(t){return"pspdfkit/link"===t.type&&0===t.pdfObjectId}(e)?(0,l.xc)():e.pdfObjectId.toString()),n=(0,m.vH)(r,e);t.push(n)}catch(t){(0,s.um)(`Skipped creating annotation #${e.pdfObjectId} from payload because an error occurred while deserializing.`),(0,s.um)(t)}}))}));u.size>0&&!this._isDestroyed()&&((0,s.kG)(this._annotationCallbacks),this._annotationCallbacks.createAnnotations(u,(0,i.D5)(),_.y)),r.length>0&&((0,s.kG)(this._annotationCallbacks),this._annotationCallbacks.addAnnotationVariants("rollover",r)),n.length>0&&((0,s.kG)(this._annotationCallbacks),this._annotationCallbacks.addAnnotationVariants("down",n)),this._state=this._state.setIn(["alreadyLoadedPages",t],Promise.resolve())}async _loadFormFieldValues(){this._verifyLoaded();const t=await this._core.getFormValues(),e=(0,i.aV)().withMutations((e=>{t.forEach((t=>{try{e.push((0,m.u9)(t))}catch(e){(0,s.um)(`Skipped creating form field value #${t.pdfObjectId} from payload because an error occurred while deserializing.`),(0,s.um)(e)}}))}));e.size>0&&!this._isDestroyed()&&((0,s.kG)(this._formFieldValueCallbacks),this._formFieldValueCallbacks.setFormFieldValues(e))}async loadBookmarks(){this._verifyLoaded();const t=await this._core.getBookmarks(),e=(0,i.aV)().withMutations((e=>{t.forEach((t=>{let r;r=t.id?t.id:t.pdfBookmarkId?t.pdfBookmarkId:(0,v.A)();try{e.push((0,y.i)(r,t))}catch(t){(0,s.um)(`Skipped creating bookmark #${r} from payload because an error occurred while deserializing.`),(0,s.um)(t)}}))}));e.size>0&&!this._isDestroyed()&&((0,s.kG)(this._bookmarkCallbacks),this._bookmarkCallbacks.createBookmarks(e,_.y))}_verifyLoaded(){(0,s.kG)(this._state.isLoaded,"StandaloneProvider not properly initialized.")}_isDestroyed(){return this._state.isDestroyed}async syncChanges(){}}function I(t){const e={};return Object.keys(t).forEach((r=>{Array.isArray(t[r])?e[r]=t[r].filter(Boolean):"object"==typeof t[r]&&null!==t[r]?e[r]=I(t[r]):e[r]=t[r]})),e}class F{constructor(t,e){this.identifier=t,this.callback=e}request(){return this.callback()}}var P=r(34997);var E=r(1367),D=r(97921),j=r(49029);class R extends(i.WV({baseUrl:null,baseCoreUrl:null,licenseKey:null,document:null,backendPermissions:new D.Z,documentResponse:null,disableWebAssembly:!1,disableWebAssemblyStreaming:!1,enableAutomaticLinkExtraction:!1,overrideMemoryLimit:null,features:(0,i.aV)(),signatureFeatureAvailability:j.H.NONE,documentHandle:null,trustedCAsCallback:null,signaturesInfoPromise:null,customFonts:null,forceLegacySignaturesFeature:!1,forceAnnotationsRender:!1,electronAppName:null,lazyLoadedPages:null,isSharePoint:!1,isSalesforce:!1})){}var T=r(96233),B=r(5164),L=r(52701),C=r(94290),q=r(55),M=r(11278),z=r(85596),U=r(63880),N=r(50809),V=r(68582),G=r(42457);const W=["id"];function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}let K;K=r(72098).Z;const H=new class{constructor(t){(0,n.Z)(this,"size",1),(0,n.Z)(this,"_freeObjects",[]),this._constructor=t}checkOut(){let t;return t=this._freeObjects.length>0?this._freeObjects.shift():new this._constructor,{object:t,checkIn:()=>{this._freeObjects.length>=this.size?t.destroy():(t.recycle(),this._freeObjects.push(t))}}}}(K);class X extends h.W{constructor(t){super(),(0,n.Z)(this,"type","STANDALONE"),(0,n.Z)(this,"_XFDF",null),Q(t);const{baseUrl:e,baseCoreUrl:r,instantJSON:o,XFDF:i,enableAutomaticLinkExtraction:s,overrideMemoryLimit:a,trustedCAsCallback:u,electronAppName:c,isSharePoint:l,isSalesforce:h}=t;"string"==typeof i&&(this._XFDF={source:i,keepCurrentAnnotations:!0===t.XFDFKeepCurrentAnnotations}),o&&o.annotations&&(o.annotations=o.annotations.map((t=>(t.id=t.id.toString(),t)))),this._instantJSON=o,"function"==typeof u&&(this._trustedCAsCallback=u);const{disableWebAssembly:f,disableWebAssemblyStreaming:p,customFonts:m}=t,{standaloneInstancesPoolSize:y}=t;void 0!==y&&(H.size=y);const g=!!t.electronicSignatures&&Boolean(t.electronicSignatures.forceLegacySignaturesFeature);this._state=new R(Z({baseUrl:e,baseCoreUrl:r,licenseKey:t.licenseKey,document:t.document,disableWebAssembly:f,disableWebAssemblyStreaming:p,enableAutomaticLinkExtraction:s,overrideMemoryLimit:a,documentHandle:"0",customFonts:m,forceLegacySignaturesFeature:g,electronAppName:c,isSharePoint:l,isSalesforce:h})),this._requestQueue=new E.Z(d.gZ);const{object:v,checkIn:_}=H.checkOut();this.client=v,this.checkIn=_;const b=o?$({annotations:o.annotations||[],formFields:o.formFields||[],formFieldValues:o.formFieldValues||[],skippedPdfObjectIds:o.skippedPdfObjectIds||[],skippedPdfFormFieldIds:o.skippedPdfFormFieldIds||[],attachments:o.attachments||{},bookmarks:o.bookmarks||[],skippedPdfBookmarkIds:o.skippedPdfBookmarkIds||[],format:o.format},o.pdfId?{pdfId:o.pdfId}:null):null;this.provider=new A(this.client,b)}isUsingInstantProvider(){return!1}hasClientsPresence(){return!1}async load(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isPDFJavaScriptEnabled=t.isPDFJavaScriptEnabled,{features:this._state.features,signatureFeatureAvailability:this._state.signatureFeatureAvailability,hasPassword:!!t.password,allowedTileScales:"all"}}destroy(){this.provider&&this.provider.destroy(),this._requestQueue&&this._requestQueue.destroy(),this.checkIn()}async documentInfo(){return this._state.documentResponse}async lazyLoadPages(){if(!this._state.lazyLoadedPages){const t=await this.client.getAllPageInfos(this._state.documentResponse.pageCount);this._state=this._state.set("lazyLoadedPages",t)}return this._state.lazyLoadedPages}getDocumentHandle(){return this._state.documentHandle}getFormJSON(){return this.client.getFormJSON()}permissions(){return Promise.resolve(this._state.backendPermissions)}textForPageIndex(t){let e=!1;const r=new F(`${t}-text`,(()=>e?Promise.reject({aborted:!0}):this.client.textForPageIndex(t).then((r=>e?Promise.reject({aborted:!0}):(0,f.T)({textLines:r},t))))),{promise:n,cancel:o}=this._requestQueue.enqueue(r);return{promise:n,cancel:()=>{e=!0,o()}}}getTextFromRects(t,e){return this.client.getTextFromRects(t,e.toJS())}renderTile(t,e,r,n,o,i){const a=`${t}-${e.width}-${e.height}-${r.top}-${r.left}-${r.width}-${r.height}-${this.getDocumentHandle()}`,c=new F(a,(()=>{const a=i?i.annotations.filter(l.d).map(m.Hs).toJS():null,c=i?i.formFieldValues.map(m.kr).toJS():null;return this.client.renderTile(t,e.toObject(),r.toObject(),n,o,a||(this._state.forceAnnotationsRender?[]:null),c,(0,N.aV)({width:r.width,height:r.height})).then((n=>n?"string"==typeof n?(0,u.ar)(n):(0,u.R9)({buffer:n,width:r.width,height:r.height}):((0,s.ZK)("The image buffer or URL is null, the tile cannot be rendered:",`page: ${t}, page size: ${e.toObject()}, tile rect: ${r.toObject()}`),Promise.resolve(null))))})),h=e.width===r.width&&e.height===r.height,{promise:f,cancel:d}=this._requestQueue.enqueue(c,h);return{promise:f,cancel:d}}renderAnnotation(t,e,r,n,o,i){const a=t.id;(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");const c=new F(a,(()=>this.client.renderAnnotation((0,m.Hs)(t),r,n,o,(0,N.aV)({width:n,height:o}),i).then((e=>e?(0,u.R9)({buffer:e,width:n,height:o}):((0,s.ZK)("The image buffer is null, the annotation cannot be rendered",t.toJS()),Promise.resolve(null))))));return this._requestQueue.enqueue(c,!1)}async getMeasurementSnappingPoints(t){return this.client.getMeasurementSnappingPoints(t)}async renderPageAnnotations(t,e,r){const n=this.provider;(0,s.kG)(n instanceof A,"Standalone can only use standalone annotation provider");const o=[],i=[],a=e.some((t=>t instanceof b.x_));a&&await n._setReadStateCallbacksPromise;const c=e.filter((t=>{const e=a?n._readStateCallbacks.getAnnotationWithFormField(t.id):null,r=null==e?void 0:e.formField,s=(0,l._R)(t,r);if(s&&r){o.find((t=>t.name===r.name))||(o.push((0,m.kr)((0,B.CH)(r))),i.push(r))}return s}));function h(t,e){if(null!=t&&t.formFieldName){const r=i.find((e=>e.name===t.formFieldName)),n=e.find((e=>e.name===t.formFieldName));if(!(0,B.BT)(r,n))return!1}return!0}const f=new Promise(((e,o)=>{this.client.renderPageAnnotations(t,c.map((t=>t.pdfObjectId)).toArray(),c.map((t=>t.boundingBox.width*r)).toArray(),c.map((t=>t.boundingBox.height*r)).toArray(),(0,N.zP)()).then((t=>{const o=i.map((t=>{var e;return null===(e=n._readStateCallbacks)||void 0===e?void 0:e.getFormFieldByName(t.name)})).filter(Boolean),a=t.map(((t,e)=>{const n=c.get(e);return h(n,o)&&n?t?(0,u.R9)({buffer:t,width:n.boundingBox.width*r,height:n.boundingBox.height*r}):((0,s.ZK)("The image buffer is null, the annotation cannot be rendered",n.toJS()),Promise.resolve(null)):Promise.resolve(null)}));Promise.all(a).then((t=>{const r=i.map((t=>{var e;return null===(e=n._readStateCallbacks)||void 0===e?void 0:e.getFormFieldByName(t.name)})).filter(Boolean);t.forEach(((t,e)=>{const n=c.get(e);if(n){const e=this.annotationAPStreamPromises.get(n.id),o=h(n,r);e&&(this.annotationAPStreamPromises=this.annotationAPStreamPromises.delete(n.id),e(o?t:null)),t&&o&&this.cacheAPStream(t,n)}})),e()}))})).catch(o)}));return this.pageAPStreamsPromises=this.pageAPStreamsPromises.set(t,f),f}renderDetachedAnnotation(t,e,r,n){if(t.id)throw new s.p2(`Detached annotations should not have an \`id\`: ${t.id}`);const o=(0,P.SK)(),i=new F(o,(()=>this.client.renderDetachedAnnotation((0,m.Hs)(t),e,r,n,(0,N.aV)({width:r,height:n})).then((e=>e?(0,u.R9)({buffer:e,width:r,height:n}):((0,s.ZK)("The image buffer is null, the annotation cannot be rendered",t.toJS()),Promise.resolve(null)))))),{promise:a,cancel:c}=this._requestQueue.enqueue(i,!1);return{promise:a,cancel:c}}async getAttachment(t){const[e,r]=await this.client.getAttachment(t);return new Blob([e],{type:r})}async parseXFDF(t){(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");const{errors:e,formFieldValues:r,annotations:n}=await this.client.parseXFDF(t);return{errors:null==e?void 0:e.map((t=>({errorMessage:t.error_message,type:t.type}))),formFieldValues:null==r?void 0:r.reduce(((t,e)=>(t[e.fqdn]=e.values,t)),{}),annotations:(0,i.aV)((null==n?void 0:n.map((t=>(0,m.vH)((0,l.xc)(),t))))||[])}}async search(t,e,r,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:U.S.TEXT;(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");const a=await this.client.search(t,e,r,n,i);return(0,p.E)(a.filter((t=>o||!t.isAnnotation)))}async searchAndRedact(t,e,r){(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");const{totalPages:n}=r,o=await this.client.search(t,0,n,e.caseSensitive,e.searchType);return(0,i.aV)(o.filter((t=>e.searchInAnnotations||!t.isAnnotation)).map((t=>{const n=t.isAnnotation?[t.annotationRect]:t.rectsOnPage,o=(0,i.aV)(n).map((t=>((0,s.kG)(t),(0,z.k)(t))));return new q.Z($($($({},(0,l.lx)(r)),e.annotationPreset),{},{pageIndex:t.pageIndex,rects:o,boundingBox:L.Z.union(o)}))})))}exportPDF(){let{flatten:t=!1,incremental:e=!1,saveForPrinting:r=!1,format:n="pdf",excludeAnnotations:o=!1,preserveInstantJSONChanges:i=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),this.client.exportFile(t,e,r,n,o,i).then((t=>{let[e,r]=t;return e.mimeType=r.mimeType,e.extension=r.extension,e}))}exportXFDF(){return(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),this.client.exportXFDF()}exportInstantJSON(){return(0,s.kG)(this.provider instanceof A,"Standalone build requires Standalone annotation provider."),this.client.exportInstantJSON()}getPDFURL(){let{includeComments:t=!0,saveForPrinting:e,excludeAnnotations:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.generatePDFObjectURL({includeComments:t,saveForPrinting:e,excludeAnnotations:r})}generatePDFObjectURL(){let t,{includeComments:e=!0,saveForPrinting:r,excludeAnnotations:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=!1;return{promise:new Promise((i=>{this.exportPDF({flatten:!0,includeComments:e,saveForPrinting:r,excludeAnnotations:n}).then((e=>{if(o)return;const r=new Blob([e],{type:e.mimeType});t=window.URL.createObjectURL(r),i(t)}))})),revoke:()=>{t&&window.URL.revokeObjectURL(t),o=!0}}}async getDocumentOutline(){const t=await this.client.getDocumentOutline();return(0,i.aV)(t.map(c.i))}async onKeystrokeEvent(t){return await this.client.onKeystrokeEvent(t)}async evalFormValuesActions(t){return(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),this.client.evalFormValuesActions(t.map(m.kr).toJS())}async evalScript(t,e){return(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),this.client.evalScript(t,e)}async setFormJSONUpdateBatchMode(t){return this.client.setFormJSONUpdateBatchMode(t)}async applyOperationsAndReload(t){(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");try{let e,r;({processedOperations:e,operationsDocuments:r}=await Y(t)),await this.client.applyOperations(e,r)}catch(t){throw new s.p2(`Applying operations failed: ${t}`)}return this.provider._state=this.provider._state.set("alreadyLoadedPages",(0,i.D5)()),this.reloadDocument()}async applyRedactionsAndReload(){(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");try{await this.client.applyRedactions()}catch(t){throw new s.p2(`Applying redactions failed: ${t}`)}return this.reloadDocument()}async reloadDocument(){try{var t;null===(t=this.provider)||void 0===t||t.destroy(),this.provider=new A(this.client,null),this._state=this._state.set("lazyLoadedPages",null);const e=await this.client.reloadDocument();return this._state=this._state.set("documentResponse",e).set("documentHandle",(parseInt(this._state.documentHandle)+1).toString()).set("signaturesInfoPromise",null),{features:this._state.features,signatureFeatureAvailability:this._state.signatureFeatureAvailability,hasPassword:!1,allowedTileScales:"all"}}catch(t){throw new s.p2(`Reloading failed: ${t}`)}}async getEmbeddedFiles(){const t=await this.client.getEmbeddedFilesList();return(0,i.aV)(t.map((t=>{let{id:e}=t,r=(0,a.Z)(t,W);return(0,G.i)(e,r,!0)})))}async exportPDFWithOperations(t){try{let e,r;return(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),({processedOperations:e,operationsDocuments:r}=await Y(t)),this.client.exportPDFWithOperations(e,r)}catch(t){throw new s.p2(`Exporting PDF with operations failed: ${t}`)}}getSignaturesInfo(){try{if((0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),this._state.signaturesInfoPromise)return this._state.signaturesInfoPromise;const t=this.client.getSignaturesInfo().then((t=>(0,m.rS)(t)));return this._state=this._state.set("signaturesInfoPromise",t),t}catch(t){throw new s.p2(`Getting document signatures info: ${t}`)}}async refreshSignaturesInfo(){this._state=this._state.set("signaturesInfoPromise",null)}async loadCertificates(t){return this.client.loadCertificates(t)}async signDocumentAndReload(t,e){(0,s.kG)("function"==typeof e,"Signing document failed: twoStepSignatureCallback must be a function");const r=t&&t.placeholderSize?{estimatedSize:t.placeholderSize}:null;(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider");try{const{hash:n,signatureFormFieldName:o,file:i,fileContents:a}=await this.client.prepareSignInvisible(r,!!t&&Boolean(t.flatten));(0,s.kG)("function"==typeof e,"twoStepSignatureCallback must be a function");const u=await e({hash:n,fileContents:a});let c;if(!(u instanceof ArrayBuffer))throw new s.p2("Resolved value from twoStepSignatureCallback is of type "+typeof u+" and it must be an ArrayBuffer instead.");c=u,await this.client.sign(i,o,(0,T.sM)(c)),await this.reloadDocument()}catch(t){throw await this.client.restoreToOriginalState(),t}}cancelRequests(){this._requestQueue.cancelAll()}async syncChanges(){}getDefaultGroup(){}isCollaborationPermissionsEnabled(){return!1}async clearAPStreamCache(){return this.client.clearAPStreamCache()}async setComparisonDocument(t,e){return this.client.setComparisonDocument(t,e)}async openComparisonDocument(t){return this._state=this._state.set("forceAnnotationsRender",!1),await this.client.closeDocument(),this._state=this._state.set("forceAnnotationsRender",!0),await this.client.openComparisonDocument(t)||this._state.documentResponse}async documentCompareAndOpen(t){return this.client.documentCompareAndOpen(t)}async persistOpenDocument(t){return this.client.persistOpenDocument(t)}async cleanupDocumentComparison(){return this.client.cleanupDocumentComparison()}async runPDFFormattingScripts(t,e){let r=[];if(this._isPDFJavaScriptEnabled){const n=await this.client.enablePDFJavaScriptSupport(),{withAPStream:o,withoutAPStream:i}=t.reduce(((t,r)=>(null!=e&&e(r)?t.withAPStream.push(r.formFieldName):t.withoutAPStream.push(r.formFieldName),t)),{withAPStream:[],withoutAPStream:[]});let s=[];if(o.length&&!i.length)s=await this.client.runPDFFormattingScripts(o,!0);else if(!o.length&&i.length)s=await this.client.runPDFFormattingScripts(i,!1);else if(o.length&&i.length){const[t,e]=await Promise.all([this.client.runPDFFormattingScripts(o,!0),this.client.runPDFFormattingScripts(i,!1)]);s=t.concat(e)}r=(0,B.gE)(n,s)}return r}contentEditorEnter(){return this.client.contentEditorEnter()}contentEditorExit(){return this.client.contentEditorExit()}contentEditorGetTextBlocks(t){return this.client.contentEditorGetTextBlocks(t)}contentEditorRenderTextBlock(t,e,r){return this.client.contentEditorRenderTextBlock(t,e,r)}contentEditorSetTextBlockCursor(t,e,r,n){return this.client.contentEditorSetTextBlockCursor(t,e,r,n)}contentEditorMoveTextBlockCursor(t,e,r,n){return this.client.contentEditorMoveTextBlockCursor(t,e,r,n)}contentEditorInsertTextBlockString(t,e,r){return this.client.contentEditorInsertTextBlockString(t,e,r)}contentEditorDeleteTextBlockString(t,e,r){return this.client.contentEditorDeleteTextBlockString(t,e,r)}contentEditorSetTextBlockSelection(t,e,r){return this.client.contentEditorSetTextBlockSelection(t,e,r)}contentEditorSetTextBlockSelectionRange(t,e,r,n,o){return this.client.contentEditorSetTextBlockSelectionRange(t,e,r,n,o)}contentEditorTextBlockUndo(t,e){return this.client.contentEditorTextBlockUndo(t,e)}contentEditorTextBlockRedo(t,e){return this.client.contentEditorTextBlockRedo(t,e)}contentEditorTextBlockApplyFormat(t,e,r){return this.client.contentEditorTextBlockApplyFormat(t,e,r)}async contentEditorGetAvailableFaces(){return this.client.contentEditorGetAvailableFaces()}async contentEditorResolveFace(t,e){return this.client.contentEditorResolveFace(t,e)}async contentEditorSaveAndReload(t){return(0,s.kG)(this.provider instanceof A,"Standalone can only use standalone annotation provider"),await this.client.contentEditorSave(t),this.provider._state=this.provider._state.set("alreadyLoadedPages",(0,i.D5)()),this.reloadDocument()}}function Z(t){return{baseUrl:t.baseUrl,baseCoreUrl:t.baseCoreUrl,licenseKey:t.licenseKey,document:t.document,disableWebAssembly:!!t.disableWebAssembly,disableWebAssemblyStreaming:!!t.disableWebAssemblyStreaming,enableAutomaticLinkExtraction:!!t.enableAutomaticLinkExtraction,overrideMemoryLimit:"number"==typeof t.overrideMemoryLimit?t.overrideMemoryLimit:null,documentHandle:"number"==typeof t.documentHandle?t.documentHandle:"0",trustedCAsCallback:"function"==typeof t.trustedCAsCallback?t.trustedCAsCallback:null,customFonts:Array.isArray(t.customFonts)?t.customFonts.filter((t=>t instanceof V.Z)):null,forceLegacySignaturesFeature:Boolean(t.forceLegacySignaturesFeature),electronAppName:"string"==typeof t.electronAppName?t.electronAppName:null,isSharePoint:Boolean(t.isSharePoint),isSalesforce:Boolean(t.isSalesforce)}}function Q(t){const{licenseKey:e,instantJSON:r,XFDF:n,disableWebAssembly:o,disableWebAssemblyStreaming:i,disableIndexedDBCaching:a,enableAutomaticLinkExtraction:u,overrideMemoryLimit:c,standaloneInstancesPoolSize:l,trustedCAsCallback:h,baseUrl:f,baseCoreUrl:d,customFonts:p,isSharePoint:m,isSalesforce:y}=t;if((0,s.kG)("string"==typeof f,"`baseUrl` is mandatory and must be a valid URL, e.g. `https://example.com/"),(0,M.Pn)(f),(0,s.kG)(!d||"string"==typeof d,"`baseCoreUrl` must be a valid URL if set, e.g. `https://example.com/"),d&&(0,M.rH)(d),(0,s.kG)(null==e||"string"==typeof e,"licenseKey must be a string value if provided. Please obtain yours from https://customers.pspdfkit.com."),"string"==typeof e&&(0,s.kG)(!e.startsWith("TRIAL-"),"You're using the npm key instead of the license key. This key is used to download the PSPDFKit for Web package via the node package manager.\n\nLeave out the license key to activate as a trial."),(0,s.kG)(void 0===n||"string"==typeof n,"XFDF must be a string"),r){(0,s.kG)("object"==typeof r&&null!==r,"instantJSON must be an Object"),(0,s.kG)(void 0===n,"Cannot import from both instantJSON and XFDF"),(0,s.kG)("https://pspdfkit.com/instant-json/v1"===r.format,"instantJSON has an invalid format, please use 'https://pspdfkit.com/instant-json/v1");const{pdfId:t}=r;t&&(0,s.kG)("object"==typeof t&&null!==t&&("string"==typeof t.permanent&&"string"==typeof t.changing||"string"!=typeof t.permanent&&"string"!=typeof t.changing),"instantJSON has an invalid pdfId"),(0,s.kG)(void 0===r.skippedPdfObjectIds||Array.isArray(r.skippedPdfObjectIds),"instantJSON has invalid skippedPdfObjectIds"),(0,s.kG)(void 0===r.annotations||Array.isArray(r.annotations)&&r.annotations.every((t=>"object"==typeof t&&null!==t)),"instantJSON has invalid annotations"),(0,s.kG)(void 0===r.formFieldValues||Array.isArray(r.formFieldValues)&&r.formFieldValues.every((t=>"object"==typeof t&&null!==t)),"instantJSON has invalid form field values"),(0,s.kG)(void 0===r.skippedPdfBookmarkIds||Array.isArray(r.skippedPdfBookmarkIds),"instantJSON has invalid skippedPdfBookmarkIds"),(0,s.kG)(void 0===r.bookmarks||Array.isArray(r.bookmarks)&&r.bookmarks.every((t=>"object"==typeof t&&null!==t)),"instantJSON has invalid bookmarks")}(0,s.kG)(void 0===o||"boolean"==typeof o,"disableWebAssembly must be a boolean"),(0,s.kG)(void 0===i||"boolean"==typeof i,"disableWebAssemblyStreaming must be a boolean"),(0,s.kG)(void 0===u||"boolean"==typeof u,"enableAutomaticLinkExtraction must be a boolean"),(0,s.kG)(void 0===c||"number"==typeof c,"overrideMemoryLimit must be a number"),(0,s.kG)(void 0===l||"number"==typeof l&&l>=0,"standaloneInstancesPoolSize must be a non-negative number"),(0,s.kG)(void 0===h||"function"==typeof h,"trustedCAsCallback must be a function"),(0,s.kG)(void 0===p||Array.isArray(p)&&p.every((t=>t instanceof V.Z)),"customFonts must be an array of PSPDFKit.Font instances"),(0,s.kG)(void 0===p||p.every((t=>t.callback)),"All PSPDFKit.Font instances specified on customFonts must have its callback property defined"),void 0!==a&&(0,s.a1)("disableIndexedDbCaching has been deprecated and it no longer has effect. It will be removed in a later version.\nBrowsers dropped IndexedDB serialization of Wasm modules in favor of regular HTTP caching."),(0,s.kG)(!(m&&y),"You cannot enable both SharePoint and Salesforce integrations at the same time. Please set either isSharePoint or isSalesforce to true, but not both.")}async function Y(t){const e=new WeakMap,r={};return{processedOperations:await Promise.all(t.map((async(t,n)=>{if("importDocument"===t.type){const{document:o}=t;return(0,s.kG)(o instanceof File||o instanceof Blob,"Wrong `importDocument` operation `document` value: it must be a File or a Blob"),(0,C.M)(e,r,o,t,n,"document")}if("applyInstantJson"===t.type){const o=t.instantJson;(0,s.kG)("object"==typeof o&&null!==o,"Wrong `applyInstantJson` operation `instantJson` value: it must be an object");const i=JSON.stringify(o),a=new Blob([i],{type:"application/json"});return(0,C.M)(e,r,a,t,n,"dataFilePath")}if("applyXfdf"===t.type){const o=t.xfdf;(0,s.kG)("string"==typeof o,"Wrong `applyXfdf` operation `xfdf` value: it must be a string");const i=new Blob([o],{type:"application/vnd.adobe.xfdf"});return(0,C.M)(e,r,i,t,n,"dataFilePath")}return t}))),operationsDocuments:r}}var tt=r(95453),et=r(36091);function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}let ot;class it extends X{constructor(t){const e=t.baseUrl||(0,o.SV)(window.document),r=t.baseCoreUrl||e,n=nt(nt({},t),{},{baseUrl:e,baseCoreUrl:r});if("string"!=typeof n.baseUrl)throw new s.p2("`baseUrl` is mandatory and must be a valid URL, e.g. `https://example.com/`");if("string"!=typeof n.document&&!(n.document instanceof ArrayBuffer))throw new s.p2("document must be either an URL to a supported document type (PDF and images), e.g. `https://example.com/document.pdf`, or an `ArrayBuffer`");if(ot&&ot!==n.licenseKey)throw new s.p2("Trying to re-use PSPDFKit for Web with a different licenseKey than the previous one.\nUnfortunately we only allow one licenseKey per instance.\nPlease contact support for further assistance.");if("string"==typeof n.licenseKey&&n.licenseKey.startsWith("TRIAL-"))throw new s.p2("You're using the npm key instead of the license key. This key is used to download the PSPDFKit for Web package via the node package manager.\n\nLeave out the license key to activate as a trial.");super(n),this.destroyed=!1}async load(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=.2;if(e.progressCallback&&e.progressCallback("loading",r),this._isPDFJavaScriptEnabled=e.isPDFJavaScriptEnabled,"string"==typeof this._state.document){if(this._state.isSharePoint){const t=new URL(this._state.document,this._state.baseUrl),[e,r]=t.hostname.split(".").reverse();if("sharepoint"!==r||"com"!==e)throw new s.p2(`When using SharePoint, the document URL must be a sharepoint.com URL: it's ${r}.${e} instead.`)}if(this._state.isSalesforce){const t=new URL(this._state.baseUrl),[e,r]=t.hostname.split(".").reverse();if("salesforce"!==r&&"force"!==r&&"visualforce"!==r||"com"!==e)throw new s.p2(`When using Salesforce, the SDK must be loaded from a Salesforce URL: it's ${r}.${e} instead.`)}t=fetch(this._state.document,{credentials:"same-origin"}).then((t=>t.arrayBuffer())).finally((()=>{r+=.3,e.progressCallback&&e.progressCallback("loading",r)}))}else t=this._state.document;const n=await at(this.client,this._state).finally((()=>{r+=.3,e.progressCallback&&e.progressCallback("loading",r)}));(0,s.kG)(n);const{features:o,signatureFeatureAvailability:a}=n;if(this._state.isSharePoint&&"string"==typeof this._state.document&&Array.isArray(n.afu)){const t=new URL(this._state.document,this._state.baseUrl);if(!n.afu.some((e=>t.hostname.match(e))))throw new s.p2(`The document origin ${t.hostname} is not authorized.`)}const u=a===j.H.ELECTRONIC_SIGNATURES&&(0,et.Vz)(o)&&this._state.forceLegacySignaturesFeature?j.H.LEGACY_SIGNATURES:a;this._state=this._state.set("features",(0,i.aV)(o)).set("signatureFeatureAvailability",u),ot=this._state.licenseKey;const c=await t;let l;try{l=this.destroyed?await new Promise((()=>{})):await this.client.openDocument(c,e.password,"number"==typeof e.initialPageIndex?e.initialPageIndex:0)}catch(t){throw"INVALID_PASSWORD"===t.message&&this._state.document instanceof ArrayBuffer&&(this._state=this._state.set("document",t.callArgs[0])),"IMAGE_DOCUMENTS_NOT_LICENSED"===t.message&&(t.message="The image documents feature is not enabled for your license key. Please contact support or sales to purchase the UI module for PSPDFKit for Web."),t}if(this._XFDF&&await this.client.importXFDF(this._XFDF.source,this._XFDF.keepCurrentAnnotations),this._instantJSON&&this._instantJSON.pdfId&&l.ID.permanent){const t=this._instantJSON.pdfId,e=l.ID;if(t.permanent!==e.permanent)throw new s.p2("Could not instantiate from Instant JSON: Permanent PDF ID mismatch.\nPlease use the same PDF document that was used to create this Instant JSON.\nFor more information, please visit: https://pspdfkit.com/guides/web/current/importing-exporting/instant-json/");if(t.changing!==e.changing)throw new s.p2("Could not instantiate from Instant JSON: Changing PDF ID mismatch.\nPlease use the same revision of this PDF document that was used to create this Instant JSON.\nFor more information, please visit: https://pspdfkit.com/guides/web/current/importing-exporting/instant-json/")}if(this._trustedCAsCallback)try{const t=await this._trustedCAsCallback();if(!Array.isArray(t))throw new s.p2("Certificates response must be an array");if(t.some((t=>!(t instanceof ArrayBuffer)&&"string"!=typeof t)))throw new s.p2("All certificates must be passed as ArrayBuffer (DER) or string (PEM)");await this.client.loadCertificates(t.map(T.uF))}catch(t){throw new s.p2(`Could not retrieve certificates for digital signatures validation: ${t.message}.`)}return this._state=this._state.set("documentResponse",l),{features:this._state.features,signatureFeatureAvailability:this._state.signatureFeatureAvailability,hasPassword:!!e.password,allowedTileScales:"all"}}destroy(){this.destroyed=!0,super.destroy()}}const st={current:void 0};function at(t,e){var r;st.current=st.current||(e.customFonts?(r=e.customFonts,Promise.all(r.map((t=>new Promise((e=>{var r;(0,s.kG)(t.name),null==t||null===(r=t.callback)||void 0===r||r.call(t,t.name).then((r=>{(0,s.kG)(t.name),r instanceof Blob?e({name:t.name,data:r}):((0,s.vU)(`Callback for retrieving font ${t.name} didn't returned a Blob. It returned ${typeof r}`),e())})).catch((r=>{(0,s.vU)(`Error returned by callback for retrieving font ${t.name}. ${r}`),e()}))}))))).then((t=>t.filter(Boolean)))):void 0);const n=e.electronAppName||(0,tt.$u)()||window.location.origin;return t.loadNativeModule(e.baseCoreUrl,{mainThreadOrigin:n,disableWebAssembly:e.disableWebAssembly,disableWebAssemblyStreaming:e.disableWebAssemblyStreaming,enableAutomaticLinkExtraction:e.enableAutomaticLinkExtraction,overrideMemoryLimit:e.overrideMemoryLimit}).then((async()=>st.current?t.load(e.baseCoreUrl,e.licenseKey,{mainThreadOrigin:n,customFonts:await st.current,isSharePoint:e.isSharePoint,isSalesforce:e.isSalesforce}):t.load(e.baseCoreUrl,e.licenseKey,{mainThreadOrigin:n,isSharePoint:e.isSharePoint,isSalesforce:e.isSalesforce})))}},1367:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(35369),o=r(46232);function i(){return!0}class s{constructor(t){this.queue=(0,n.zN)(),this.priorityQueue=(0,n.zN)(),this.inFlightRequests=(0,n.D5)(),this.inflightRequestLimit=t,this.isDestroyed=!1}enqueue(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isDestroyed)return{promise:new Promise((()=>{})),cancel:()=>{}};let r=null,o=null;const i=new Promise(((t,e)=>{r=t,o=e})),s=e?this.priorityQueue:this.queue,a=(0,n.t8)(s,t,{promise:i,resolve:r,reject:o});return e?this.priorityQueue=a:this.queue=a,e?this.next():setTimeout((()=>this.next()),35),{promise:i,cancel:()=>this._cancel(t)}}_cancel(t){this.queue.has(t)&&(this.queue=this.queue.delete(t)),this.priorityQueue.has(t)&&(this.priorityQueue=this.priorityQueue.delete(t)),this.inFlightRequests.has(t)&&(this.inFlightRequests=this.inFlightRequests.delete(t))}cancelAll(){this.queue=(0,n.zN)(),this.priorityQueue=(0,n.zN)(),this.inFlightRequests=(0,n.D5)()}_requestFinished(t,e){if(this.isDestroyed)return;const r=this.inFlightRequests.get(t);r&&(r.resolve(e),this.inFlightRequests=this.inFlightRequests.delete(t)),this.next()}_requestFailed(t,e){if(this.isDestroyed)return;const r=this.inFlightRequests.get(t);r&&(r.reject(e),this.inFlightRequests=this.inFlightRequests.delete(t)),this.next()}next(){if(!(this.isDestroyed||this.inFlightRequests.size>=this.inflightRequestLimit)){if(this.priorityQueue.size>=1){const t=this.priorityQueue.findLastEntry(i);(0,o.k)(t);const[e,r]=t;return this.priorityQueue=this.priorityQueue.delete(e),this.inFlightRequests=this.inFlightRequests.set(e,r),void e.request().then((t=>this._requestFinished(e,t))).catch((t=>this._requestFailed(e,t)))}if(this.queue.size>=1){const t=this.queue.findEntry(i);(0,o.k)(t);const[e,r]=t;this.queue=this.queue.delete(e),this.inFlightRequests=this.inFlightRequests.set(e,r),e.request().then((t=>this._requestFinished(e,t))).catch((t=>this._requestFailed(e,t)))}}}destroy(){this.isDestroyed=!0}}},42457:(t,e,r)=>{"use strict";r.d(e,{i:()=>a});var n=r(35369);class o extends(n.WV({id:"",attachmentId:"",description:null,fileName:null,fileSize:null,updatedAt:null})){}var i=r(55090);function s(t,e){return e}function a(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(0,r)?new o({id:(0,i.C)(),description:e.fileDescription,attachmentId:t,fileName:e.fileName||null,fileSize:e.fileSize||null,updatedAt:e.modificationDate?new Date(e.modificationDate):null}):new o({id:t,description:e.description,attachmentId:e.fileAttachmentId,fileName:e.fileName||null,fileSize:e.fileSize||null,updatedAt:new Date(e.updatedAt)||null})}},94290:(t,e,r)=>{"use strict";r.d(e,{M:()=>s});var n=r(96156);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r,n,o,s){let a;return t.has(r)?a=t.get(r):(a=o.toString(),e[a]=r,t.set(r,a)),i(i({},n),{},{[s]:a})}},89777:(t,e,r)=>{"use strict";r.d(e,{E:()=>a});var n=r(85596),o=r(35369),i=r(70545),s=r(51908);function a(t){return(0,i.kG)(Array.isArray(t),"Wrong `json` field"),(0,o.aV)(t.map((t=>((0,i.kG)("number"==typeof t.pageIndex,"Wrong `pageIndex` field"),(0,i.kG)("string"==typeof t.previewText,"Wrong `previewText` field"),(0,i.kG)(Array.isArray(t.rangeInPreview),"Wrong `rangeInPreview` field"),(0,i.kG)(Array.isArray(t.rectsOnPage),"Wrong `rectsOnPage` field"),new s.Z({pageIndex:t.pageIndex,previewText:t.previewText,locationInPreview:t.rangeInPreview[0],lengthInPreview:t.rangeInPreview[1],rectsOnPage:(0,o.aV)(t.rectsOnPage).map((t=>(0,n.k)(t))),isAnnotation:!!t.isAnnotation,annotationRect:t.annotationRect?(0,n.k)(t.annotationRect):null})))).filter(Boolean))}},42876:(t,e,r)=>{t.exports=function(){return r(69855)('/*!\n * PSPDFKit for Web 2022.5.5 (https://pspdfkit.com/web)\n *\n * Copyright (c) 2016-2022 PSPDFKit GmbH. All rights reserved.\n *\n * THIS SOURCE CODE AND ANY ACCOMPANYING DOCUMENTATION ARE PROTECTED BY INTERNATIONAL COPYRIGHT LAW\n * AND MAY NOT BE RESOLD OR REDISTRIBUTED. USAGE IS BOUND TO THE PSPDFKIT LICENSE AGREEMENT.\n * UNAUTHORIZED REPRODUCTION OR DISTRIBUTION IS SUBJECT TO CIVIL AND CRIMINAL PENALTIES.\n * This notice may not be removed from this file.\n *\n * PSPDFKit uses several open source third-party components: https://pspdfkit.com/acknowledgements/web/\n */(()=>{var t={7932:()=>{Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(r,n){return Array.isArray(n)?r.push.apply(r,t.call(n,e-1)):r.push(n),r}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0})},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can\'t set "+String(t)+" as a prototype");return t}},1223:(t,e,r)=>{var n=r(5112),o=r(30),i=r(8880),s=n("unscopables"),a=Array.prototype;null==a[s]&&i(a,s,o(null)),t.exports=function(t){a[s][t]=!0}},1530:(t,e,r)=>{"use strict";var n=r(8710).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},5787:t=>{t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},9670:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},260:(t,e,r)=>{"use strict";var n,o=r(9781),i=r(7854),s=r(111),a=r(6656),u=r(648),c=r(8880),f=r(1320),l=r(3070).f,h=r(9518),p=r(7674),d=r(5112),y=r(9711),v=i.DataView,g=v&&v.prototype,m=i.Int8Array,_=m&&m.prototype,w=i.Uint8ClampedArray,b=w&&w.prototype,x=m&&h(m),S=_&&h(_),O=Object.prototype,I=O.isPrototypeOf,E=d("toStringTag"),A=y("TYPED_ARRAY_TAG"),j=!(!i.ArrayBuffer||!v),k=j&&!!p&&"Opera"!==u(i.opera),D=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F=function(t){return s(t)&&a(P,u(t))};for(n in P)i[n]||(k=!1);if((!k||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},k))for(n in P)i[n]&&p(i[n],x);if((!k||!S||S===O)&&(S=x.prototype,k))for(n in P)i[n]&&p(i[n].prototype,S);if(k&&h(b)!==S&&p(b,S),o&&!a(S,E))for(n in D=!0,l(S,E,{get:function(){return s(this)?this[A]:void 0}}),P)i[n]&&c(i[n],A,n);j&&p&&h(g)!==O&&p(g,O),t.exports={NATIVE_ARRAY_BUFFER:j,NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:D&&A,aTypedArray:function(t){if(F(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(I.call(x,t))return t}else for(var e in P)if(a(P,n)){var r=i[e];if(r&&(t===r||I.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(o){if(r)for(var n in P){var s=i[n];s&&a(s.prototype,t)&&delete s.prototype[t]}S[t]&&!r||f(S,t,r?e:k&&_[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,s;if(o){if(p){if(r)for(n in P)(s=i[n])&&a(s,t)&&delete s[t];if(x[t]&&!r)return;try{return f(x,t,r?e:k&&m[t]||e)}catch(t){}}for(n in P)!(s=i[n])||s[t]&&!r||f(s,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||a(P,e)},isTypedArray:F,TypedArray:x,TypedArrayPrototype:S}},8457:(t,e,r)=>{"use strict";var n=r(244),o=r(7908),i=r(3411),s=r(7659),a=r(7466),u=r(6135),c=r(1246);t.exports=function(t){var e,r,f,l,h,p=o(t),d="function"==typeof this?this:Array,y=arguments.length,v=y>1?arguments[1]:void 0,g=void 0!==v,m=0,_=c(p);if(g&&(v=n(v,y>2?arguments[2]:void 0,2)),null==_||d==Array&&s(_))for(r=new d(e=a(p.length));e>m;m++)u(r,m,g?v(p[m],m):p[m]);else for(h=(l=_.call(p)).next,r=new d;!(f=h.call(l)).done;m++)u(r,m,g?i(l,v,[f.value,m],!0):f.value);return r.length=m,r}},1318:(t,e,r)=>{var n=r(5656),o=r(7466),i=r(1400),s=function(t){return function(e,r,s){var a,u=n(e),c=o(u.length),f=i(s,c);if(t&&r!=r){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},5417:(t,e,r)=>{var n=r(111),o=r(3157),i=r(5112)("species");t.exports=function(t,e){var r;return o(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},244:(t,e,r)=>{var n=r(3099);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},3411:(t,e,r)=>{var n=r(9670);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},7072:(t,e,r)=>{var n=r(5112)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,r)=>{var n=r(1694),o=r(4326),i=r(5112)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:s?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},9920:(t,e,r)=>{var n=r(6656),o=r(3887),i=r(1236),s=r(3070);t.exports=function(t,e){for(var r=o(e),a=s.f,u=i.f,c=0;c<r.length;c++){var f=r[c];n(t,f)||a(t,f,u(e,f))}}},4964:(t,e,r)=>{var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),s=r(8003),a=r(7497),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=o(n,{next:i(1,r)}),s(t,c,!1,!0),a[c]=u,t}},8880:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,r)=>{"use strict";var n=r(7593),o=r(3070),i=r(9114);t.exports=function(t,e,r){var s=n(e);s in t?o.f(t,s,i(0,r)):t[s]=r}},654:(t,e,r)=>{"use strict";var n=r(2109),o=r(4994),i=r(9518),s=r(7674),a=r(8003),u=r(8880),c=r(1320),f=r(5112),l=r(1913),h=r(7497),p=r(3383),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=f("iterator"),g="keys",m="values",_="entries",w=function(){return this};t.exports=function(t,e,r,f,p,b,x){o(r,e,f);var S,O,I,E=function(t){if(t===p&&P)return P;if(!y&&t in k)return k[t];switch(t){case g:case m:case _:return function(){return new r(this,t)}}return function(){return new r(this)}},A=e+" Iterator",j=!1,k=t.prototype,D=k[v]||k["@@iterator"]||p&&k[p],P=!y&&D||E(p),F="Array"==e&&k.entries||D;if(F&&(S=i(F.call(new t)),d!==Object.prototype&&S.next&&(l||i(S)===d||(s?s(S,d):"function"!=typeof S[v]&&u(S,v,w)),a(S,A,!0,!0),l&&(h[A]=w))),p==m&&D&&D.name!==m&&(j=!0,P=function(){return D.call(this)}),l&&!x||k[v]===P||u(k,v,P),h[e]=P,p)if(O={values:E(m),keys:b?P:E(g),entries:E(_)},x)for(I in O)(y||j||!(I in k))&&c(k,I,O[I]);else n({target:e,proto:!0,forced:y||j},O);return O}},7235:(t,e,r)=>{var n=r(857),o=r(6656),i=r(6805),s=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},317:(t,e,r)=>{var n=r(7854),o=r(111),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),s=r(1320),a=r(3505),u=r(9920),c=r(4705);t.exports=function(t,e){var r,f,l,h,p,d=t.target,y=t.global,v=t.stat;if(r=y?n:v?n[d]||a(d,{}):(n[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=o(r,f))&&p.value:r[f],!c(y?f:d+(v?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;u(h,l)}(t.sham||l&&l.sham)&&i(h,"sham",!0),s(r,f,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,r)=>{"use strict";var n=r(8880),o=r(1320),i=r(7293),s=r(5112),a=r(2261),u=s("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,l){var h=s(t),p=!i((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),d=p&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return e=!0,null},r[h](""),!e}));if(!p||!d||"replace"===t&&!c||"split"===t&&!f){var y=/./[h],v=r(h,""[t],(function(t,e,r,n,o){return e.exec===a?p&&!o?{done:!0,value:y.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),g=v[0],m=v[1];o(String.prototype,t,g),o(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)}),l&&n(RegExp.prototype[h],"sham",!0)}}},6790:(t,e,r)=>{"use strict";var n=r(3157),o=r(7466),i=r(244),s=function(t,e,r,a,u,c,f,l){for(var h,p=u,d=0,y=!!f&&i(f,l,3);d<a;){if(d in r){if(h=y?y(r[d],d,e):r[d],c>0&&n(h))p=s(t,e,h,o(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[p]=h}p++}d++}return p};t.exports=s},8711:(t,e,r)=>{var n=r(7293),o=r(1361);t.exports=function(t){return n((function(){return!!o[t]()||""!=""[t]()||o[t].name!==t}))}},5005:(t,e,r)=>{var n=r(857),o=r(7854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},1246:(t,e,r)=>{var n=r(648),o=r(7497),i=r(5112)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},8554:(t,e,r)=>{var n=r(9670),o=r(1246);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},3501:t=>{t.exports={}},842:(t,e,r)=>{var n=r(7854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(7293),o=r(4326),i="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},9587:(t,e,r)=>{var n=r(111),o=r(7674);t.exports=function(t,e,r){var i,s;return o&&"function"==typeof(i=e.constructor)&&i!==r&&n(s=i.prototype)&&s!==r.prototype&&o(t,s),t}},2788:(t,e,r)=>{var n=r(5465),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},9909:(t,e,r)=>{var n,o,i,s=r(8536),a=r(7854),u=r(111),c=r(8880),f=r(6656),l=r(6200),h=r(3501),p=a.WeakMap;if(s){var d=new p,y=d.get,v=d.has,g=d.set;n=function(t,e){return g.call(d,t,e),e},o=function(t){return y.call(d,t)||{}},i=function(t){return v.call(d,t)}}else{var m=l("state");h[m]=!0,n=function(t,e){return c(t,m,e),e},o=function(t){return f(t,m)?t[m]:{}},i=function(t){return f(t,m)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},7659:(t,e,r)=>{var n=r(5112),o=r(7497),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:(t,e,r)=>{var n=r(7293),o=/#|\\.prototype\\./,i=function(t,e){var r=a[s(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},9747:(t,e,r)=>{var n=r(227);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},7850:(t,e,r)=>{var n=r(111),o=r(4326),i=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},408:(t,e,r)=>{var n=r(9670),o=r(7659),i=r(7466),s=r(244),a=r(1246),u=r(3411),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,r,f,l){var h,p,d,y,v,g,m,_=s(e,r,f?2:1);if(l)h=t;else{if("function"!=typeof(p=a(t)))throw TypeError("Target is not iterable");if(o(p)){for(d=0,y=i(t.length);y>d;d++)if((v=f?_(n(m=t[d])[0],m[1]):_(t[d]))&&v instanceof c)return v;return new c(!1)}h=p.call(t)}for(g=h.next;!(m=g.call(h)).done;)if("object"==typeof(v=u(h,_,m.value,f))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(t){return new c(!0,t)}},3383:(t,e,r)=>{"use strict";var n,o,i,s=r(9518),a=r(8880),u=r(6656),c=r(5112),f=r(1913),l=c("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):h=!0),null==n&&(n={}),f||u(n,l)||a(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},7497:t=>{t.exports={}},5948:(t,e,r)=>{var n,o,i,s,a,u,c,f,l=r(7854),h=r(1236).f,p=r(4326),d=r(261).set,y=r(9747),v=l.MutationObserver||l.WebKitMutationObserver,g=l.process,m=l.Promise,_="process"==p(g),w=h(l,"queueMicrotask"),b=w&&w.value;b||(n=function(){var t,e;for(_&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},_?s=function(){g.nextTick(n)}:v&&!y?(a=!0,u=document.createTextNode(""),new v(n).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):m&&m.resolve?(c=m.resolve(void 0),f=c.then,s=function(){f.call(c,n)}):s=function(){d.call(l,n)}),t.exports=b||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},3366:(t,e,r)=>{var n=r(7854);t.exports=n.Promise},133:(t,e,r)=>{var n=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},590:(t,e,r)=>{var n=r(7293),o=r(5112),i=r(1913),s=o("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},8536:(t,e,r)=>{var n=r(7854),o=r(2788),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},8523:(t,e,r)=>{"use strict";var n=r(3099),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},3929:(t,e,r)=>{var n=r(7850);t.exports=function(t){if(n(t))throw TypeError("The method doesn\'t accept regular expressions");return t}},1574:(t,e,r)=>{"use strict";var n=r(9781),o=r(7293),i=r(1956),s=r(5181),a=r(5296),u=r(7908),c=r(8361),f=Object.assign,l=Object.defineProperty;t.exports=!f||o((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||i(f({},e)).join("")!=o}))?function(t,e){for(var r=u(t),o=arguments.length,f=1,l=s.f,h=a.f;o>f;)for(var p,d=c(arguments[f++]),y=l?i(d).concat(l(d)):i(d),v=y.length,g=0;v>g;)p=y[g++],n&&!h.call(d,p)||(r[p]=d[p]);return r}:f},30:(t,e,r)=>{var n=r(9670),o=r(6048),i=r(748),s=r(3501),a=r(490),u=r(317),c=r(6200)("IE_PROTO"),f=function(){},l=function(){var t,e=u("iframe"),r=i.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\\/script>"),t.close(),l=t.F;r--;)delete l.prototype[i[r]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=n(t),r=new f,f.prototype=null,r[c]=t):r=l(),void 0===e?r:o(r,e)},s[c]=!0},6048:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(9670),s=r(1956);t.exports=n?Object.defineProperties:function(t,e){i(t);for(var r,n=s(e),a=n.length,u=0;a>u;)o.f(t,r=n[u++],e[r]);return t}},3070:(t,e,r)=>{var n=r(9781),o=r(4664),i=r(9670),s=r(7593),a=Object.defineProperty;e.f=n?a:function(t,e,r){if(i(t),e=s(e,!0),i(r),o)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),o=r(5296),i=r(9114),s=r(5656),a=r(7593),u=r(6656),c=r(4664),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=s(t),e=a(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(6656),o=r(7908),i=r(6200),s=r(8544),a=i("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:(t,e,r)=>{var n=r(6656),o=r(5656),i=r(1318).indexOf,s=r(3501);t.exports=function(t,e){var r,a=o(t),u=0,c=[];for(r in a)!n(s,r)&&n(a,r)&&c.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~i(c,r)||c.push(r));return c}},1956:(t,e,r)=>{var n=r(6324),o=r(748);t.exports=Object.keys||function(t){return n(t,o)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(9670),o=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return n(r),o(i),e?t.call(r,i):r.__proto__=i,r}}():void 0)},3887:(t,e,r)=>{var n=r(5005),o=r(8006),i=r(5181),s=r(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=i.f;return r?e.concat(r(t)):e}},3677:(t,e,r)=>{var n=r(7854),o=r(3111).trim,i=r(1361),s=n.parseFloat,a=1/s(i+"-0")!=-1/0;t.exports=a?function(t){var e=o(String(t)),r=s(e);return 0===r&&"-"==e.charAt(0)?-0:r}:s},8620:(t,e,r)=>{var n=r(7854),o=r(3111).trim,i=r(1361),s=n.parseInt,a=/^[+-]?0[Xx]/,u=8!==s(i+"08")||22!==s(i+"0x16");t.exports=u?function(t,e){var r=o(String(t));return s(r,e>>>0||(a.test(r)?16:10))}:s},857:(t,e,r)=>{var n=r(7854);t.exports=n},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,r)=>{var n=r(9670),o=r(111),i=r(8523);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},3611:t=>{"use strict";var e=2147483647,r=/[^\\0-\\u007E]/,n=/[.\\u3002\\uFF0E\\uFF61]/g,o="Overflow: input needs wider integers to process",i=Math.floor,s=String.fromCharCode,a=function(t){return t+22+75*(t<26)},u=function(t,e,r){var n=0;for(t=r?i(t/700):t>>1,t+=i(t/e);t>455;n+=36)t=i(t/35);return i(n+36*t/(t+38))},c=function(t){var r=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=t.charCodeAt(r++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),r--)}else e.push(o)}return e}(t);var n,c,f=t.length,l=128,h=0,p=72;for(n=0;n<t.length;n++)(c=t[n])<128&&r.push(s(c));var d=r.length,y=d;for(d&&r.push("-");y<f;){var v=e;for(n=0;n<t.length;n++)(c=t[n])>=l&&c<v&&(v=c);var g=y+1;if(v-l>i((e-h)/g))throw RangeError(o);for(h+=(v-l)*g,l=v,n=0;n<t.length;n++){if((c=t[n])<l&&++h>e)throw RangeError(o);if(c==l){for(var m=h,_=36;;_+=36){var w=_<=p?1:_>=p+26?26:_-p;if(m<w)break;var b=m-w,x=36-w;r.push(s(a(w+b%x))),m=i(b/x)}r.push(s(a(m))),p=u(h,g,y==d),h=0,++y}}++h,++l}return r.join("")};t.exports=function(t){var e,o,i=[],s=t.toLowerCase().replace(n,".").split(".");for(e=0;e<s.length;e++)o=s[e],i.push(r.test(o)?"xn--"+c(o):o);return i.join(".")}},2248:(t,e,r)=>{var n=r(1320);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},1320:(t,e,r)=>{var n=r(7854),o=r(8880),i=r(6656),s=r(3505),a=r(2788),u=r(9909),c=u.get,f=u.enforce,l=String(String).split("String");(t.exports=function(t,e,r,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||i(r,"name")||o(r,"name",e),f(r).source=l.join("string"==typeof e?e:"")),t!==n?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=r:o(t,e,r)):c?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},7651:(t,e,r)=>{var n=r(4326),o=r(2261);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var i=r.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},2261:(t,e,r)=>{"use strict";var n,o,i=r(7066),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,c=(n=/a/,o=/b*/g,s.call(n,"a"),s.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(u=function(t){var e,r,n,o,u=this;return f&&(r=new RegExp("^"+u.source+"$(?!\\\\s)",i.call(u))),c&&(e=u.lastIndex),n=s.call(u,t),c&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),f&&n&&n.length>1&&a.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=u},7066:(t,e,r)=>{"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on "+t);return t}},1150:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},3505:(t,e,r)=>{var n=r(7854),o=r(8880);t.exports=function(t,e){try{o(n,t,e)}catch(r){n[t]=e}return e}},6340:(t,e,r)=>{"use strict";var n=r(5005),o=r(3070),i=r(5112),s=r(9781),a=i("species");t.exports=function(t){var e=n(t),r=o.f;s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},8003:(t,e,r)=>{var n=r(3070).f,o=r(6656),i=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,r)=>{var n=r(7854),o=r(3505),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s},2309:(t,e,r)=>{var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.5.0",mode:n?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},6637:(t,e,r)=>{"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!r||!n((function(){r.call(null,e||function(){throw 1},1)}))}},6707:(t,e,r)=>{var n=r(9670),o=r(3099),i=r(5112)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[i])?e:o(r)}},8710:(t,e,r)=>{var n=r(9958),o=r(4488),i=function(t){return function(e,r){var i,s,a=String(o(e)),u=n(r),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},8415:(t,e,r)=>{"use strict";var n=r(9958),o=r(4488);t.exports="".repeat||function(t){var e=String(o(this)),r="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},3111:(t,e,r)=>{var n=r(4488),o="["+r(1361)+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),a=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:a(1),end:a(2),trim:a(3)}},261:(t,e,r)=>{var n,o,i,s=r(7854),a=r(7293),u=r(4326),c=r(244),f=r(490),l=r(317),h=r(9747),p=s.location,d=s.setImmediate,y=s.clearImmediate,v=s.process,g=s.MessageChannel,m=s.Dispatch,_=0,w={},b="onreadystatechange",x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},S=function(t){return function(){x(t)}},O=function(t){x(t.data)},I=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};d&&y||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return w[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(_),_},y=function(t){delete w[t]},"process"==u(v)?n=function(t){v.nextTick(S(t))}:m&&m.now?n=function(t){m.now(S(t))}:g&&!h?(i=(o=new g).port2,o.port1.onmessage=O,n=c(i.postMessage,i,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(I)?n=b in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),x(t)}}:function(t){setTimeout(S(t),0)}:(n=I,s.addEventListener("message",O,!1))),t.exports={set:d,clear:y}},863:(t,e,r)=>{var n=r(4326);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},1400:(t,e,r)=>{var n=r(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5656:(t,e,r)=>{var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9958:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:(t,e,r)=>{var n=r(9958),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488);t.exports=function(t){return Object(n(t))}},7593:(t,e,r)=>{var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can\'t convert object to primitive value")}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9711:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol()},227:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},2101:(t,e,r)=>{var n,o,i=r(7854),s=r(227),a=i.process,u=a&&a.versions,c=u&&u.v8;c?o=(n=c.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\\/(\\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\\/(\\d+)/))&&(o=n[1]),t.exports=o&&+o},5112:(t,e,r)=>{var n=r(7854),o=r(2309),i=r(6656),s=r(9711),a=r(133),u=r(3307),c=o("wks"),f=n.Symbol,l=u?f:s;t.exports=function(t){return i(c,t)||(a&&i(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},1361:t=>{t.exports="\\t\\n\\v\\f\\r \\u2028\\u2029\\ufeff"},6805:(t,e,r)=>{var n=r(5112);e.f=n},6535:(t,e,r)=>{"use strict";var n=r(2109),o=r(6790),i=r(7908),s=r(7466),a=r(3099),u=r(5417);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=i(this),n=s(r.length);return a(t),(e=u(r,0)).length=o(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},4944:(t,e,r)=>{"use strict";var n=r(2109),o=r(6790),i=r(7908),s=r(7466),a=r(9958),u=r(5417);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),r=s(e.length),n=u(e,0);return n.length=o(n,e,e,r,0,void 0===t?1:a(t)),n}})},6992:(t,e,r)=>{"use strict";var n=r(5656),o=r(1223),i=r(7497),s=r(9909),a=r(654),u="Array Iterator",c=s.set,f=s.getterFor(u);t.exports=a(Array,"Array",(function(t,e){c(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},2707:(t,e,r)=>{"use strict";var n=r(2109),o=r(3099),i=r(7908),s=r(7293),a=r(6637),u=[],c=u.sort,f=s((function(){u.sort(void 0)})),l=s((function(){u.sort(null)})),h=a("sort");n({target:"Array",proto:!0,forced:f||!l||h},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),o(t))}})},9244:(t,e,r)=>{r(1223)("flatMap")},3792:(t,e,r)=>{r(1223)("flat")},1874:(t,e,r)=>{var n=r(2109),o=r(3677);n({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},9494:(t,e,r)=>{var n=r(2109),o=r(8620);n({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},6977:(t,e,r)=>{"use strict";var n=r(2109),o=r(9958),i=r(863),s=r(8415),a=r(7293),u=1..toFixed,c=Math.floor,f=function(t,e,r){return 0===e?r:e%2==1?f(t,e-1,r*t):f(t*t,e/2,r)};n({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){u.call({})}))},{toFixed:function(t){var e,r,n,a,u=i(this),l=o(t),h=[0,0,0,0,0,0],p="",d="0",y=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*h[r],h[r]=n%1e7,n=c(n/1e7)},v=function(t){for(var e=6,r=0;--e>=0;)r+=h[e],h[e]=c(r/t),r=r%t*1e7},g=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var r=String(h[t]);e=""===e?r:e+s.call("0",7-r.length)+r}return e};if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(u*f(2,69,1))-69)<0?u*f(2,-e,1):u/f(2,e,1),r*=4503599627370496,(e=52-e)>0){for(y(0,r),n=l;n>=7;)y(1e7,0),n-=7;for(y(f(10,n,1),0),n=e-1;n>=23;)v(1<<23),n-=23;v(1<<n),y(1,1),v(2),d=g()}else y(0,r),y(1<<-e,0),d=g()+s.call("0",l);return d=l>0?p+((a=d.length)<=l?"0."+s.call("0",l-a)+d:d.slice(0,a-l)+"."+d.slice(a-l)):p+d}})},9601:(t,e,r)=>{var n=r(2109),o=r(1574);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},8559:(t,e,r)=>{var n=r(2109),o=r(408),i=r(6135);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,r){i(e,t,r)}),void 0,!0),e}})},4678:(t,e,r)=>{var n=r(2109),o=r(3677);n({global:!0,forced:parseFloat!=o},{parseFloat:o})},1058:(t,e,r)=>{var n=r(2109),o=r(8620);n({global:!0,forced:parseInt!=o},{parseInt:o})},7727:(t,e,r)=>{"use strict";var n=r(2109),o=r(1913),i=r(3366),s=r(7293),a=r(5005),u=r(6707),c=r(9478),f=r(1320);n({target:"Promise",proto:!0,real:!0,forced:!!i&&s((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),r="function"==typeof t;return this.then(r?function(r){return c(e,t()).then((function(){return r}))}:t,r?function(r){return c(e,t()).then((function(){throw r}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||f(i.prototype,"finally",a("Promise").prototype.finally)},8674:(t,e,r)=>{"use strict";var n,o,i,s,a=r(2109),u=r(1913),c=r(7854),f=r(5005),l=r(3366),h=r(1320),p=r(2248),d=r(8003),y=r(6340),v=r(111),g=r(3099),m=r(5787),_=r(4326),w=r(2788),b=r(408),x=r(7072),S=r(6707),O=r(261).set,I=r(5948),E=r(9478),A=r(842),j=r(8523),k=r(2534),D=r(9909),P=r(4705),F=r(5112),T=r(2101),R=F("species"),M="Promise",B=D.get,z=D.set,L=D.getterFor(M),U=l,C=c.TypeError,q=c.document,N=c.process,$=f("fetch"),V=j.f,J=V,W="process"==_(N),K=!!(q&&q.createEvent&&c.dispatchEvent),G="unhandledrejection",H=P(M,(function(){if(!(w(U)!==String(U))){if(66===T)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!U.prototype.finally)return!0;if(T>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[R]=e,!(t.then((function(){}))instanceof e)})),Y=H||!x((function(t){U.all(t).catch((function(){}))})),X=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;I((function(){for(var o=e.value,i=1==e.state,s=0;n.length>s;){var a,u,c,f=n[s++],l=i?f.ok:f.fail,h=f.resolve,p=f.reject,d=f.domain;try{l?(i||(2===e.rejection&&rt(t,e),e.rejection=1),!0===l?a=o:(d&&d.enter(),a=l(o),d&&(d.exit(),c=!0)),a===f.promise?p(C("Promise-chain cycle")):(u=X(a))?u.call(a,h,p):h(a)):p(o)}catch(t){d&&!c&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&tt(t,e)}))}},Q=function(t,e,r){var n,o;K?((n=q.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},(o=c["on"+t])?o(n):t===G&&A("Unhandled promise rejection",r)},tt=function(t,e){O.call(c,(function(){var r,n=e.value;if(et(e)&&(r=k((function(){W?N.emit("unhandledRejection",n,t):Q(G,t,n)})),e.rejection=W||et(e)?2:1,r.error))throw r.value}))},et=function(t){return 1!==t.rejection&&!t.parent},rt=function(t,e){O.call(c,(function(){W?N.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},nt=function(t,e,r,n){return function(o){t(e,r,o,n)}},ot=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,Z(t,e,!0))},it=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw C("Promise can\'t be resolved itself");var o=X(r);o?I((function(){var n={done:!1};try{o.call(r,nt(it,t,n,e),nt(ot,t,n,e))}catch(r){ot(t,n,r,e)}})):(e.value=r,e.state=1,Z(t,e,!1))}catch(r){ot(t,{done:!1},r,e)}}};H&&(U=function(t){m(this,U,M),g(t),n.call(this);var e=B(this);try{t(nt(it,this,e),nt(ot,this,e))}catch(t){ot(this,e,t)}},(n=function(t){z(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(t,e){var r=L(this),n=V(S(this,U));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=W?N.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Z(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n,e=B(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(ot,t,e)},j.f=V=function(t){return t===U||t===i?new o(t):J(t)},u||"function"!=typeof l||(s=l.prototype.then,h(l.prototype,"then",(function(t,e){var r=this;return new U((function(t,e){s.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof $&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(U,$.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:H},{Promise:U}),d(U,M,!1,!0),y(M),i=f(M),a({target:M,stat:!0,forced:H},{reject:function(t){var e=V(this);return e.reject.call(void 0,t),e.promise}}),a({target:M,stat:!0,forced:u||H},{resolve:function(t){return E(u&&this===i?U:this,t)}}),a({target:M,stat:!0,forced:Y},{all:function(t){var e=this,r=V(e),n=r.resolve,o=r.reject,i=k((function(){var r=g(e.resolve),i=[],s=0,a=1;b(t,(function(t){var u=s++,c=!1;i.push(void 0),a++,r.call(e,t).then((function(t){c||(c=!0,i[u]=t,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=V(e),n=r.reject,o=k((function(){var o=g(e.resolve);b(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},3593:(t,e,r)=>{var n=r(2109),o=r(9670),i=r(111),s=r(6656),a=r(7293),u=r(3070),c=r(1236),f=r(9518),l=r(9114);n({target:"Reflect",stat:!0,forced:a((function(){var t=u.f({},"a",{configurable:!0});return!1!==Reflect.set(f(t),"a",1,t)}))},{set:function t(e,r,n){var a,h,p=arguments.length<4?e:arguments[3],d=c.f(o(e),r);if(!d){if(i(h=f(e)))return t(h,r,n,p);d=l(0)}if(s(d,"value")){if(!1===d.writable||!i(p))return!1;if(a=c.f(p,r)){if(a.get||a.set||!1===a.writable)return!1;a.value=n,u.f(p,r,a)}else u.f(p,r,l(0,n));return!0}return void 0!==d.set&&(d.set.call(p,n),!0)}})},4603:(t,e,r)=>{var n=r(9781),o=r(7854),i=r(4705),s=r(9587),a=r(3070).f,u=r(8006).f,c=r(7850),f=r(7066),l=r(1320),h=r(7293),p=r(6340),d=r(5112)("match"),y=o.RegExp,v=y.prototype,g=/a/g,m=/a/g,_=new y(g)!==g;if(n&&i("RegExp",!_||h((function(){return m[d]=!1,y(g)!=g||y(m)==m||"/a/i"!=y(g,"i")})))){for(var w=function(t,e){var r=this instanceof w,n=c(t),o=void 0===e;return!r&&n&&t.constructor===w&&o?t:s(_?new y(n&&!o?t.source:t,e):y((n=t instanceof w)?t.source:t,n&&o?f.call(t):e),r?this:v,w)},b=function(t){t in w||a(w,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},x=u(y),S=0;x.length>S;)b(x[S++]);v.constructor=w,w.prototype=v,l(o,"RegExp",w)}p("RegExp")},4916:(t,e,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},2087:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(7066);n&&"g"!=/./g.flags&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},9714:(t,e,r)=>{"use strict";var n=r(1320),o=r(9670),i=r(7293),s=r(7066),a="toString",u=RegExp.prototype,c=u.toString,f=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l=c.name!=a;(f||l)&&n(RegExp.prototype,a,(function(){var t=o(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in u)?s.call(t):r)}),{unsafe:!0})},7852:(t,e,r)=>{"use strict";var n,o=r(2109),i=r(1236).f,s=r(7466),a=r(3929),u=r(4488),c=r(4964),f=r(1913),l="".endsWith,h=Math.min,p=c("endsWith");o({target:"String",proto:!0,forced:!!(f||p||(n=i(String.prototype,"endsWith"),!n||n.writable))&&!p},{endsWith:function(t){var e=String(u(this));a(t);var r=arguments.length>1?arguments[1]:void 0,n=s(e.length),o=void 0===r?n:h(s(r),n),i=String(t);return l?l.call(e,i,o):e.slice(o-i.length,o)===i}})},2023:(t,e,r)=>{"use strict";var n=r(2109),o=r(3929),i=r(4488);n({target:"String",proto:!0,forced:!r(4964)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},8783:(t,e,r)=>{"use strict";var n=r(8710).charAt,o=r(9909),i=r(654),s="String Iterator",a=o.set,u=o.getterFor(s);i(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function(){var t,e=u(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},4723:(t,e,r)=>{"use strict";var n=r(7007),o=r(9670),i=r(7466),s=r(4488),a=r(1530),u=r(7651);n("match",1,(function(t,e,r){return[function(e){var r=s(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var s=o(t),c=String(this);if(!s.global)return u(s,c);var f=s.unicode;s.lastIndex=0;for(var l,h=[],p=0;null!==(l=u(s,c));){var d=String(l[0]);h[p]=d,""===d&&(s.lastIndex=a(c,i(s.lastIndex),f)),p++}return 0===p?null:h}]}))},5306:(t,e,r)=>{"use strict";var n=r(7007),o=r(9670),i=r(7908),s=r(7466),a=r(9958),u=r(4488),c=r(1530),f=r(7651),l=Math.max,h=Math.min,p=Math.floor,d=/\\$([$&\'`]|\\d\\d?|<[^>]*>)/g,y=/\\$([$&\'`]|\\d\\d?)/g;n("replace",2,(function(t,e,r){return[function(r,n){var o=u(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,i){var u=r(e,t,this,i);if(u.done)return u.value;var p=o(t),d=String(this),y="function"==typeof i;y||(i=String(i));var v=p.global;if(v){var g=p.unicode;p.lastIndex=0}for(var m=[];;){var _=f(p,d);if(null===_)break;if(m.push(_),!v)break;""===String(_[0])&&(p.lastIndex=c(d,s(p.lastIndex),g))}for(var w,b="",x=0,S=0;S<m.length;S++){_=m[S];for(var O=String(_[0]),I=l(h(a(_.index),d.length),0),E=[],A=1;A<_.length;A++)E.push(void 0===(w=_[A])?w:String(w));var j=_.groups;if(y){var k=[O].concat(E,I,d);void 0!==j&&k.push(j);var D=String(i.apply(void 0,k))}else D=n(O,d,I,E,j,i);I>=x&&(b+=d.slice(x,I)+D,x=I+O.length)}return b+d.slice(x)}];function n(t,r,n,o,s,a){var u=n+t.length,c=o.length,f=y;return void 0!==s&&(s=i(s),f=d),e.call(a,f,(function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"\'":return r.slice(u);case"<":a=s[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>c){var l=p(f/10);return 0===l?e:l<=c?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):e}a=o[f-1]}return void 0===a?"":a}))}}))},4765:(t,e,r)=>{"use strict";var n=r(7007),o=r(9670),i=r(4488),s=r(1150),a=r(7651);n("search",1,(function(t,e,r){return[function(e){var r=i(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=o(t),u=String(this),c=i.lastIndex;s(c,0)||(i.lastIndex=0);var f=a(i,u);return s(i.lastIndex,c)||(i.lastIndex=c),null===f?-1:f.index}]}))},3123:(t,e,r)=>{"use strict";var n=r(7007),o=r(7850),i=r(9670),s=r(4488),a=r(6707),u=r(1530),c=r(7466),f=r(7651),l=r(2261),h=r(7293),p=[].push,d=Math.min,y=4294967295,v=!h((function(){return!RegExp(y,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(s(this)),i=void 0===r?y:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!o(t))return e.call(n,t,i);for(var a,u,c,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=new RegExp(t.source,h+"g");(a=l.call(v,n))&&!((u=v.lastIndex)>d&&(f.push(n.slice(d,a.index)),a.length>1&&a.index<n.length&&p.apply(f,a.slice(1)),c=a[0].length,d=u,f.length>=i));)v.lastIndex===a.index&&v.lastIndex++;return d===n.length?!c&&v.test("")||f.push(""):f.push(n.slice(d)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var o=s(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,r):n.call(String(o),e,r)},function(t,o){var s=r(n,t,this,o,n!==e);if(s.done)return s.value;var l=i(t),h=String(this),p=a(l,RegExp),g=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),_=new p(v?l:"^(?:"+l.source+")",m),w=void 0===o?y:o>>>0;if(0===w)return[];if(0===h.length)return null===f(_,h)?[h]:[];for(var b=0,x=0,S=[];x<h.length;){_.lastIndex=v?x:0;var O,I=f(_,v?h:h.slice(x));if(null===I||(O=d(c(_.lastIndex+(v?0:x)),h.length))===b)x=u(h,x,g);else{if(S.push(h.slice(b,x)),S.length===w)return S;for(var E=1;E<=I.length-1;E++)if(S.push(I[E]),S.length===w)return S;x=b=O}}return S.push(h.slice(b)),S}]}),!v)},6755:(t,e,r)=>{"use strict";var n,o=r(2109),i=r(1236).f,s=r(7466),a=r(3929),u=r(4488),c=r(4964),f=r(1913),l="".startsWith,h=Math.min,p=c("startsWith");o({target:"String",proto:!0,forced:!!(f||p||(n=i(String.prototype,"startsWith"),!n||n.writable))&&!p},{startsWith:function(t){var e=String(u(this));a(t);var r=s(h(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return l?l.call(e,n,r):e.slice(r,r+n.length)===n}})},8702:(t,e,r)=>{"use strict";var n=r(2109),o=r(3111).end,i=r(8711)("trimEnd"),s=i?function(){return o(this)}:"".trimEnd;n({target:"String",proto:!0,forced:i},{trimEnd:s,trimRight:s})},5674:(t,e,r)=>{"use strict";var n=r(2109),o=r(3111).start,i=r(8711)("trimStart"),s=i?function(){return o(this)}:"".trimStart;n({target:"String",proto:!0,forced:i},{trimStart:s,trimLeft:s})},2443:(t,e,r)=>{r(7235)("asyncIterator")},1817:(t,e,r)=>{"use strict";var n=r(2109),o=r(9781),i=r(7854),s=r(6656),a=r(111),u=r(3070).f,c=r(9920),f=i.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var d=p.toString,y="Symbol(test)"==String(f("test")),v=/^Symbol\\((.*)\\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=d.call(t);if(s(l,t))return"";var r=y?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},9007:(t,e,r)=>{r(7235)("match")},3510:(t,e,r)=>{r(7235)("replace")},1840:(t,e,r)=>{r(7235)("search")},2159:(t,e,r)=>{r(7235)("split")},3824:(t,e,r)=>{"use strict";var n=r(260),o=n.aTypedArray,i=n.exportTypedArrayMethod,s=[].sort;i("sort",(function(t){return s.call(o(this),t)}))},2974:(t,e,r)=>{"use strict";var n=r(7854),o=r(260),i=r(7293),s=n.Int8Array,a=o.aTypedArray,u=o.exportTypedArrayMethod,c=[].toLocaleString,f=[].slice,l=!!s&&i((function(){c.call(new s(1))}));u("toLocaleString",(function(){return c.apply(l?f.call(a(this)):a(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!i((function(){s.prototype.toLocaleString.call([1,2])})))},3948:(t,e,r)=>{var n=r(7854),o=r(8324),i=r(6992),s=r(8880),a=r(5112),u=a("iterator"),c=a("toStringTag"),f=i.values;for(var l in o){var h=n[l],p=h&&h.prototype;if(p){if(p[u]!==f)try{s(p,u,f)}catch(t){p[u]=f}if(p[c]||s(p,c,l),o[l])for(var d in i)if(p[d]!==i[d])try{s(p,d,i[d])}catch(t){p[d]=i[d]}}}},4633:(t,e,r)=>{var n=r(2109),o=r(7854),i=r(261);n({global:!0,bind:!0,enumerable:!0,forced:!o.setImmediate||!o.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},5844:(t,e,r)=>{var n=r(2109),o=r(7854),i=r(5948),s=r(4326),a=o.process,u="process"==s(a);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&a.domain;i(e?e.bind(t):t)}})},1637:(t,e,r)=>{"use strict";r(6992);var n=r(2109),o=r(5005),i=r(590),s=r(1320),a=r(2248),u=r(8003),c=r(4994),f=r(9909),l=r(5787),h=r(6656),p=r(244),d=r(648),y=r(9670),v=r(111),g=r(30),m=r(9114),_=r(8554),w=r(1246),b=r(5112),x=o("fetch"),S=o("Headers"),O=b("iterator"),I="URLSearchParams",E="URLSearchParamsIterator",A=f.set,j=f.getterFor(I),k=f.getterFor(E),D=/\\+/g,P=Array(4),F=function(t){return P[t-1]||(P[t-1]=RegExp("((?:%[\\\\da-f]{2}){"+t+"})","gi"))},T=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(D," "),r=4;try{return decodeURIComponent(e)}catch(t){for(;r;)e=e.replace(F(r--),T);return e}},M=/[!\'()~]|%20/g,B={"!":"%21","\'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=function(t){return B[t]},L=function(t){return encodeURIComponent(t).replace(M,z)},U=function(t,e){if(e)for(var r,n,o=e.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),t.push({key:R(n.shift()),value:R(n.join("="))}))},C=function(t){this.entries.length=0,U(this.entries,t)},q=function(t,e){if(t<e)throw TypeError("Not enough arguments")},N=c((function(t,e){A(this,{type:E,iterator:_(j(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),$=function(){l(this,$,I);var t,e,r,n,o,i,s,a,u,c=arguments.length>0?arguments[0]:void 0,f=this,p=[];if(A(f,{type:I,entries:p,updateURL:function(){},updateSearchParams:C}),void 0!==c)if(v(c))if("function"==typeof(t=w(c)))for(r=(e=t.call(c)).next;!(n=r.call(e)).done;){if((s=(i=(o=_(y(n.value))).next).call(o)).done||(a=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:a.value+""})}else for(u in c)h(c,u)&&p.push({key:u,value:c[u]+""});else U(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},V=$.prototype;a(V,{append:function(t,e){q(arguments.length,2);var r=j(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){q(arguments.length,1);for(var e=j(this),r=e.entries,n=t+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;e.updateURL()},get:function(t){q(arguments.length,1);for(var e=j(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){q(arguments.length,1);for(var e=j(this).entries,r=t+"",n=[],o=0;o<e.length;o++)e[o].key===r&&n.push(e[o].value);return n},has:function(t){q(arguments.length,1);for(var e=j(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){q(arguments.length,1);for(var r,n=j(this),o=n.entries,i=!1,s=t+"",a=e+"",u=0;u<o.length;u++)(r=o[u]).key===s&&(i?o.splice(u--,1):(i=!0,r.value=a));i||o.push({key:s,value:a}),n.updateURL()},sort:function(){var t,e,r,n=j(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(t=i[r],e=0;e<r;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===r&&o.push(t)}n.updateURL()},forEach:function(t){for(var e,r=j(this).entries,n=p(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),s(V,O,V.entries),s(V,"toString",(function(){for(var t,e=j(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(L(t.key)+"="+L(t.value));return r.join("&")}),{enumerable:!0}),u($,I),n({global:!0,forced:!i},{URLSearchParams:$}),i||"function"!=typeof x||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,o=[t];return arguments.length>1&&(v(e=arguments[1])&&(r=e.body,d(r)===I&&((n=e.headers?new S(e.headers):new S).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:m(0,String(r)),headers:m(0,n)}))),o.push(e)),x.apply(this,o)}}),t.exports={URLSearchParams:$,getState:j}},285:(t,e,r)=>{"use strict";r(8783);var n,o=r(2109),i=r(9781),s=r(590),a=r(7854),u=r(6048),c=r(1320),f=r(5787),l=r(6656),h=r(1574),p=r(8457),d=r(8710).codeAt,y=r(3611),v=r(8003),g=r(1637),m=r(9909),_=a.URL,w=g.URLSearchParams,b=g.getState,x=m.set,S=m.getterFor("URL"),O=Math.floor,I=Math.pow,E="Invalid scheme",A="Invalid host",j="Invalid port",k=/[A-Za-z]/,D=/[\\d+\\-.A-Za-z]/,P=/\\d/,F=/^(0x|0X)/,T=/^[0-7]+$/,R=/^\\d+$/,M=/^[\\dA-Fa-f]+$/,B=/[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/,z=/[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/,L=/^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g,U=/[\\u0009\\u000A\\u000D]/g,C=function(t,e){var r,n,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return A;if(!(r=N(e.slice(1,-1))))return A;t.host=r}else if(Y(t)){if(e=y(e),B.test(e))return A;if(null===(r=q(e)))return A;t.host=r}else{if(z.test(e))return A;for(r="",n=p(e),o=0;o<n.length;o++)r+=G(n[o],V);t.host=r}},q=function(t){var e,r,n,o,i,s,a,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(o=u[n]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=F.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)s=0;else{if(!(10==i?R:8==i?T:M).test(o))return t;s=parseInt(o,i)}r.push(s)}for(n=0;n<e;n++)if(s=r[n],n==e-1){if(s>=I(256,5-e))return null}else if(s>255)return null;for(a=r.pop(),n=0;n<r.length;n++)a+=r[n]*I(256,3-n);return a},N=function(t){var e,r,n,o,i,s,a,u=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,h=function(){return t.charAt(l)};if(":"==h()){if(":"!=t.charAt(1))return;l+=2,f=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=r=0;r<4&&M.test(h());)e=16*e+parseInt(h(),16),l++,r++;if("."==h()){if(0==r)return;if(l-=r,c>6)return;for(n=0;h();){if(o=null,n>0){if(!("."==h()&&n<4))return;l++}if(!P.test(h()))return;for(;P.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;u[c++]=e}else{if(null!==f)return;l++,f=++c}}if(null!==f)for(s=c-f,c=7;0!=c&&s>0;)a=u[c],u[c--]=u[f+s-1],u[f+--s]=a;else if(8!=c)return;return u},$=function(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(e=n,r=o),e}(t),r=0;r<8;r++)o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},V={},J=h({},V,{" ":1,\'"\':1,"<":1,">":1,"`":1}),W=h({},J,{"#":1,"?":1,"{":1,"}":1}),K=h({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\\\":1,"]":1,"^":1,"|":1}),G=function(t,e){var r=d(t,0);return r>32&&r<127&&!l(e,t)?t:encodeURIComponent(t)},H={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(t){return l(H,t.scheme)},X=function(t){return""!=t.username||""!=t.password},Z=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Q=function(t,e){var r;return 2==t.length&&k.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},tt=function(t){var e;return t.length>1&&Q(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\\\"===e||"?"===e||"#"===e)},et=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&Q(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},nt={},ot={},it={},st={},at={},ut={},ct={},ft={},lt={},ht={},pt={},dt={},yt={},vt={},gt={},mt={},_t={},wt={},bt={},xt={},St={},Ot=function(t,e,r,o){var i,s,a,u,c,f=r||nt,h=0,d="",y=!1,v=!1,g=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(L,"")),e=e.replace(U,""),i=p(e);h<=i.length;){switch(s=i[h],f){case nt:if(!s||!k.test(s)){if(r)return E;f=it;continue}d+=s.toLowerCase(),f=ot;break;case ot:if(s&&(D.test(s)||"+"==s||"-"==s||"."==s))d+=s.toLowerCase();else{if(":"!=s){if(r)return E;d="",f=it,h=0;continue}if(r&&(Y(t)!=l(H,d)||"file"==d&&(X(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,r)return void(Y(t)&&H[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?f=vt:Y(t)&&o&&o.scheme==t.scheme?f=st:Y(t)?f=ft:"/"==i[h+1]?(f=at,h++):(t.cannotBeABaseURL=!0,t.path.push(""),f=bt)}break;case it:if(!o||o.cannotBeABaseURL&&"#"!=s)return E;if(o.cannotBeABaseURL&&"#"==s){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,f=St;break}f="file"==o.scheme?vt:ut;continue;case st:if("/"!=s||"/"!=i[h+1]){f=ut;continue}f=lt,h++;break;case at:if("/"==s){f=ht;break}f=wt;continue;case ut:if(t.scheme=o.scheme,s==n)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==s||"\\\\"==s&&Y(t))f=ct;else if("?"==s)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",f=xt;else{if("#"!=s){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),f=wt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",f=St}break;case ct:if(!Y(t)||"/"!=s&&"\\\\"!=s){if("/"!=s){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,f=wt;continue}f=ht}else f=lt;break;case ft:if(f=lt,"/"!=s||"/"!=d.charAt(h+1))continue;h++;break;case lt:if("/"!=s&&"\\\\"!=s){f=ht;continue}break;case ht:if("@"==s){y&&(d="%40"+d),y=!0,a=p(d);for(var m=0;m<a.length;m++){var _=a[m];if(":"!=_||g){var w=G(_,K);g?t.password+=w:t.username+=w}else g=!0}d=""}else if(s==n||"/"==s||"?"==s||"#"==s||"\\\\"==s&&Y(t)){if(y&&""==d)return"Invalid authority";h-=p(d).length+1,d="",f=pt}else d+=s;break;case pt:case dt:if(r&&"file"==t.scheme){f=mt;continue}if(":"!=s||v){if(s==n||"/"==s||"?"==s||"#"==s||"\\\\"==s&&Y(t)){if(Y(t)&&""==d)return A;if(r&&""==d&&(X(t)||null!==t.port))return;if(u=C(t,d))return u;if(d="",f=_t,r)return;continue}"["==s?v=!0:"]"==s&&(v=!1),d+=s}else{if(""==d)return A;if(u=C(t,d))return u;if(d="",f=yt,r==dt)return}break;case yt:if(!P.test(s)){if(s==n||"/"==s||"?"==s||"#"==s||"\\\\"==s&&Y(t)||r){if(""!=d){var b=parseInt(d,10);if(b>65535)return j;t.port=Y(t)&&b===H[t.scheme]?null:b,d=""}if(r)return;f=_t;continue}return j}d+=s;break;case vt:if(t.scheme="file","/"==s||"\\\\"==s)f=gt;else{if(!o||"file"!=o.scheme){f=wt;continue}if(s==n)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==s)t.host=o.host,t.path=o.path.slice(),t.query="",f=xt;else{if("#"!=s){tt(i.slice(h).join(""))||(t.host=o.host,t.path=o.path.slice(),et(t)),f=wt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",f=St}}break;case gt:if("/"==s||"\\\\"==s){f=mt;break}o&&"file"==o.scheme&&!tt(i.slice(h).join(""))&&(Q(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),f=wt;continue;case mt:if(s==n||"/"==s||"\\\\"==s||"?"==s||"#"==s){if(!r&&Q(d))f=wt;else if(""==d){if(t.host="",r)return;f=_t}else{if(u=C(t,d))return u;if("localhost"==t.host&&(t.host=""),r)return;d="",f=_t}continue}d+=s;break;case _t:if(Y(t)){if(f=wt,"/"!=s&&"\\\\"!=s)continue}else if(r||"?"!=s)if(r||"#"!=s){if(s!=n&&(f=wt,"/"!=s))continue}else t.fragment="",f=St;else t.query="",f=xt;break;case wt:if(s==n||"/"==s||"\\\\"==s&&Y(t)||!r&&("?"==s||"#"==s)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(et(t),"/"==s||"\\\\"==s&&Y(t)||t.path.push("")):rt(d)?"/"==s||"\\\\"==s&&Y(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Q(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(s==n||"?"==s||"#"==s))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==s?(t.query="",f=xt):"#"==s&&(t.fragment="",f=St)}else d+=G(s,W);break;case bt:"?"==s?(t.query="",f=xt):"#"==s?(t.fragment="",f=St):s!=n&&(t.path[0]+=G(s,V));break;case xt:r||"#"!=s?s!=n&&("\'"==s&&Y(t)?t.query+="%27":t.query+="#"==s?"%23":G(s,V)):(t.fragment="",f=St);break;case St:s!=n&&(t.fragment+=G(s,J))}h++}},It=function(t){var e,r,n=f(this,It,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(t),a=x(n,{type:"URL"});if(void 0!==o)if(o instanceof It)e=S(o);else if(r=Ot(e={},String(o)))throw TypeError(r);if(r=Ot(a,s,null,e))throw TypeError(r);var u=a.searchParams=new w,c=b(u);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(u)||null},i||(n.href=At.call(n),n.origin=jt.call(n),n.protocol=kt.call(n),n.username=Dt.call(n),n.password=Pt.call(n),n.host=Ft.call(n),n.hostname=Tt.call(n),n.port=Rt.call(n),n.pathname=Mt.call(n),n.search=Bt.call(n),n.searchParams=zt.call(n),n.hash=Lt.call(n))},Et=It.prototype,At=function(){var t=S(this),e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,s=t.path,a=t.query,u=t.fragment,c=e+":";return null!==o?(c+="//",X(t)&&(c+=r+(n?":"+n:"")+"@"),c+=$(o),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},jt=function(){var t=S(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Y(t)?e+"://"+$(t.host)+(null!==r?":"+r:""):"null"},kt=function(){return S(this).scheme+":"},Dt=function(){return S(this).username},Pt=function(){return S(this).password},Ft=function(){var t=S(this),e=t.host,r=t.port;return null===e?"":null===r?$(e):$(e)+":"+r},Tt=function(){var t=S(this).host;return null===t?"":$(t)},Rt=function(){var t=S(this).port;return null===t?"":String(t)},Mt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Bt=function(){var t=S(this).query;return t?"?"+t:""},zt=function(){return S(this).searchParams},Lt=function(){var t=S(this).fragment;return t?"#"+t:""},Ut=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&u(Et,{href:Ut(At,(function(t){var e=S(this),r=String(t),n=Ot(e,r);if(n)throw TypeError(n);b(e.searchParams).updateSearchParams(e.query)})),origin:Ut(jt),protocol:Ut(kt,(function(t){var e=S(this);Ot(e,String(t)+":",nt)})),username:Ut(Dt,(function(t){var e=S(this),r=p(String(t));if(!Z(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=G(r[n],K)}})),password:Ut(Pt,(function(t){var e=S(this),r=p(String(t));if(!Z(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=G(r[n],K)}})),host:Ut(Ft,(function(t){var e=S(this);e.cannotBeABaseURL||Ot(e,String(t),pt)})),hostname:Ut(Tt,(function(t){var e=S(this);e.cannotBeABaseURL||Ot(e,String(t),dt)})),port:Ut(Rt,(function(t){var e=S(this);Z(e)||(""==(t=String(t))?e.port=null:Ot(e,t,yt))})),pathname:Ut(Mt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],Ot(e,t+"",_t))})),search:Ut(Bt,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Ot(e,t,xt)),b(e.searchParams).updateSearchParams(e.query)})),searchParams:Ut(zt),hash:Ut(Lt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Ot(e,t,St)):e.fragment=null}))}),c(Et,"toJSON",(function(){return At.call(this)}),{enumerable:!0}),c(Et,"toString",(function(){return At.call(this)}),{enumerable:!0}),_){var Ct=_.createObjectURL,qt=_.revokeObjectURL;Ct&&c(It,"createObjectURL",(function(t){return Ct.apply(_,arguments)})),qt&&c(It,"revokeObjectURL",(function(t){return qt.apply(_,arguments)}))}v(It,"URL"),o({global:!0,forced:!s,sham:!i},{URL:It})},3753:(t,e,r)=>{"use strict";r(2109)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},4301:(t,e,r)=>{r(7147),t.exports=self.fetch.bind(self)},7147:(t,e,r)=>{"use strict";r.r(e),r.d(e,{DOMException:()=>I,Headers:()=>d,Request:()=>b,Response:()=>S,fetch:()=>E});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,o="URLSearchParams"in n,i="Symbol"in n&&"iterator"in Symbol,s="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in n,u="ArrayBuffer"in n;if(u)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(t){return t&&c.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\\-#$%&\'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError(\'Invalid character in header field name: "\'+t+\'"\');return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function y(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=v(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:s&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():u&&s&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(t)||f(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=y(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var t,e,r,n=y(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=v(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=l(t),e=h(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[l(t)]},d.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},d.prototype.set=function(t,e){this.map[l(t)]=h(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),p(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),p(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),p(t)},i&&(d.prototype[Symbol.iterator]=d.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){if(!(this instanceof b))throw new TypeError(\'Please use the "new" operator, this DOM object constructor cannot be called as a function.\');var r,n,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\\+/g," "),o=r.join("=").replace(/\\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError(\'Please use the "new" operator, this DOM object constructor cannot be called as a function.\');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},_.call(b.prototype),_.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var O=[301,302,303,307,308];S.redirect=function(t,e){if(-1===O.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})};var I=n.DOMException;try{new I}catch(t){(I=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function E(t,e){return new Promise((function(r,o){var i=new b(t,e);if(i.signal&&i.signal.aborted)return o(new I("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\\r?\\n[\\t ]+/g," ").split("\\r").map((function(t){return 0===t.indexOf("\\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){r(new S(o,n))}),0)},a.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){o(new I("Aborted","AbortError"))}),0)},a.open(i.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":u&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof d?i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){a.setRequestHeader(t,h(e.headers[t]))})),i.signal&&(i.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",c)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}E.polyfill=!0,n.fetch||(n.fetch=E,n.Headers=d,n.Request=b,n.Response=S)},4643:t=>{t.exports="b0ba3a9920e211ed"},7673:t=>{t.exports="b0349aeb4e32c9dc"},1117:t=>{t.exports="b537b81ef05b4bbc"},5349:t=>{t.exports="89d16617b0d3d060"},2380:t=>{function e(t){var e=new Error("Cannot find module \'"+t+"\'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=2380,t.exports=e}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";r(1817),r(2443),r(9007),r(3510),r(1840),r(2159),r(4944),r(6535),r(2707),r(3792),r(9244),r(1874),r(9494),r(6977),r(9601),r(8559),r(4678),r(1058),r(8674),r(7727),r(3593),r(4603),r(4916),r(2087),r(9714),r(7852),r(2023),r(4723),r(5306),r(4765),r(3123),r(6755),r(8702),r(5674),r(3824),r(2974),r(3948),r(4633),r(5844),r(285),r(3753),r(1637),r(4301),r(7932);"object"==typeof window&&(window._babelPolyfill=!1);const t=function t(e){let r;return r=e instanceof Error?e:new Error(e),Object.setPrototypeOf(r,t.prototype),r};t.prototype=Object.create(Error.prototype,{name:{value:"PSPDFKitError",enumerable:!1}});const e=t;function n(t,r){if(!t)throw new e(`Assertion failed: ${r||"Condition not met"}\\n\\nFor further assistance, please go to: https://pspdfkit.com/support/request`)}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){console.log(t)}function s(t){console.warn(t)}function a(t){console.error(t)}["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",\'[tabindex]:not([tabindex^="-"])\'].join(",");function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return t.indexOf("Trident/")>-1?"trident":t.indexOf("Edge/")>-1?"edge":t.indexOf("Chrome/")>-1?"blink":t.indexOf("AppleWebKit/")>-1?"webkit":t.indexOf("Gecko/")>-1?"gecko":"unknown"}function c(t,e){const r=new RegExp(` ${e}/(\\\\d+)\\\\.*`);let n;return(n=t.match(r))?Number(n[1]):0}function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.platform,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.maxTouchPoints;return e.indexOf("MacIntel")>-1&&r>1?"ios":t.indexOf("Win")>-1?"windows":t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1?"ios":t.indexOf("Mac")>-1?"macos":t.indexOf("Android")>-1?"android":t.indexOf("Linux")>-1?"linux":"unknown"}const l=u(),h=f(),p=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;switch(u(t)){case"trident":return c(t,"Trident");case"edge":return c(t,"Edge");case"blink":return c(t,"Chrome");case"webkit":return c(t,"Version");case"gecko":return c(t,"Firefox");default:;}}(),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();"ios"===t||"android"===t||d(e)}(),"trident"===l);"ios"===h||d();function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u();return("undefined"==typeof window||!window.PSPDFKIT_PLAYWRIGHT_TEST)&&("webkit"===t&&"undefined"!=typeof TouchEvent)}let y;"undefined"!=typeof window&&(window.addEventListener("mousemove",(function t(){y=!1,window.removeEventListener("mousemove",t)})),window.addEventListener("pointermove",(function t(e){"mouse"!==e.pointerType&&"pen"!==e.pointerType||(y=!1),window.removeEventListener("pointermove",t)})));/Mac/i.test(navigator.platform);var v=r(1117),g=r.n(v),m=r(5349),_=r.n(m),w=r(4643),b=r.n(w),x=r(7673),S=r.n(x);const O="pspdfkit-lib/",I=`${O}pspdfkit${"-"+_()}.wasm.js`,E=`${O}pspdfkit${"-"+g()}.wasm`,A=`${O}pspdfkit${"-"+b()}.asm.js`,j=`${O}pspdfkit${"-"+S()}.asm.js.mem`;function k(t){try{if(/Version\\/11\\..*Safari/i.test(t.navigator.userAgent))return!1}catch(t){}return"object"==typeof t.WebAssembly&&"function"==typeof t.WebAssembly.instantiate}function D(t,e,r){const n=r?11649062:31995433;const o={wasmBinaryFile:t+E,locateFile:e=>"pspdfkit.asm.js.mem"===e?t+j:e,wasmBinary:undefined};if(r){const t=fetch(o.wasmBinaryFile,{credentials:"same-origin"});t.then((t=>{const e=t.headers.get("content-length");return e&&parseInt(e)>=n&&s("The WASM binary file is being served without compression. Due to its size, it\'s recommended to configure the server so application/wasm files are served with compression.\\n\\nFind more details in our Standalone performance guides: https://pspdfkit.com/guides/web/best-practices/performance/#standalone-performance"),t})).catch((t=>{throw new Error(`Failed to load WASM binary file: ${t}`)})),o.instantiateWasm=(r,n)=>((async()=>{i(`Start ${o.wasmBinaryFile} download.`);const s=Date.now();let u,c;const f=!e&&"function"==typeof WebAssembly.instantiateStreaming;function h(){return t.then((t=>{if(!t.ok)throw new Error(`Error loading ${o.wasmBinaryFile}: ${t.statusText}`);return t.arrayBuffer()})).then((t=>(c=Date.now(),i(`Download complete, took: ${c-s}ms`),WebAssembly.instantiate(new Uint8Array(t),r))))}if(f){if("edge"===l){const t=WebAssembly.instantiateStreaming;WebAssembly.instantiateStreaming=function(e,r){return Promise.resolve(e).then((e=>t(e,r)))}}u=WebAssembly.instantiateStreaming(t,r).then((t=>(c=Date.now(),i(`Download and Instantiation complete, took: ${Date.now()-s}ms`),t))).catch((t=>{if(/mime.*type/i.test(t.message))return a(t.message),null;throw t}))}else u=h();let p=await u;null===p&&(a("Streaming instantiation failed! Falling back to classic instantiation. This might result in slower initialization time therefore we highly recommend to follow the troubleshooting instructions in our guides to fix this error: https://pspdfkit.com/guides/web/current/troubleshooting/common-issues/#response-has-unsupported-mime-type-error."),p=await h()),!f&&c&&i(`Compilation and Instantiation complete, took: ${Date.now()-c}ms`),n(p.instance,p.module)})(),{})}return o}function P(t){t.PSPDFLoggingServices={error(t,e){a(`[${t}] ${e}`)},warn(t,e){s(`[${t}] ${e}`)},info(t,e){0},debug(t,e){0},trace(t,e){0}}}function F(t){return"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node?Promise.resolve(r(2380)(t)):"object"==typeof window?new Promise(((e,r)=>{const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.onload=()=>e(window.PSPDFModuleInit),o.onerror=r,o.src=t;const{documentElement:i}=document;n(i),i.appendChild(o)})):(self.importScripts(t),Promise.resolve(self.PSPDFModuleInit))}function T(t){const e=new FileReader;return new Promise(((r,n)=>{e.onerror=t=>{n(new Error(t))},e.onload=t=>{var e;r(new Uint8Array(null===(e=t.target)||void 0===e?void 0:e.result))},e.readAsArrayBuffer(t)}))}const R="text",M="documentA",B="documentB",z="result";function L(t){let e="";for(let r,n=t.length,o=0;o<n;o++)r=t[o],e+=String.fromCodePoint(r>251&&r<254&&o+5<n?1073741824*(r-252)+(t[++o]-128<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>247&&r<252&&o+4<n?(r-248<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>239&&r<248&&o+3<n?(r-240<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>223&&r<240&&o+2<n?(r-224<<12)+(t[++o]-128<<6)+t[++o]-128:r>191&&r<224&&o+1<n?(r-192<<6)+t[++o]-128:r);return e}var U=32,C=31,q={};function N(t){t&&(t.value=!0)}function $(){}function V(t){return void 0===t.size&&(t.size=t.__iterate(W)),t.size}function J(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?V(t)+e:e}function W(){return!0}function K(t,e,r){return(0===t&&!X(t)||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function G(t,e){return Y(t,e,0)}function H(t,e){return Y(t,e,e)}function Y(t,e,r){return void 0===t?r:X(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function X(t){return t<0||0===t&&1/t==-1/0}var Z="@@__IMMUTABLE_ITERABLE__@@";function Q(t){return Boolean(t&&t[Z])}var tt="@@__IMMUTABLE_KEYED__@@";function et(t){return Boolean(t&&t[tt])}var rt="@@__IMMUTABLE_INDEXED__@@";function nt(t){return Boolean(t&&t[rt])}function ot(t){return et(t)||nt(t)}var it=function(t){return Q(t)?t:jt(t)},st=function(t){function e(t){return et(t)?t:kt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(it),at=function(t){function e(t){return nt(t)?t:Dt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(it),ut=function(t){function e(t){return Q(t)&&!ot(t)?t:Pt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(it);it.Keyed=st,it.Indexed=at,it.Set=ut;var ct="@@__IMMUTABLE_SEQ__@@";function ft(t){return Boolean(t&&t[ct])}var lt="@@__IMMUTABLE_RECORD__@@";function ht(t){return Boolean(t&&t[lt])}function pt(t){return Q(t)||ht(t)}var dt="@@__IMMUTABLE_ORDERED__@@";function yt(t){return Boolean(t&&t[dt])}var vt="function"==typeof Symbol&&Symbol.iterator,gt="@@iterator",mt=vt||gt,_t=function(t){this.next=t};function wt(t,e,r,n){var o=0===t?e:1===t?r:[e,r];return n?n.value=o:n={value:o,done:!1},n}function bt(){return{value:void 0,done:!0}}function xt(t){return!!It(t)}function St(t){return t&&"function"==typeof t.next}function Ot(t){var e=It(t);return e&&e.call(t)}function It(t){var e=t&&(vt&&t[vt]||t["@@iterator"]);if("function"==typeof e)return e}_t.prototype.toString=function(){return"[Iterator]"},_t.KEYS=0,_t.VALUES=1,_t.ENTRIES=2,_t.prototype.inspect=_t.prototype.toSource=function(){return this.toString()},_t.prototype[mt]=function(){return this};var Et=Object.prototype.hasOwnProperty;function At(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var jt=function(t){function e(t){return null==t?Bt():pt(t)?t.toSeq():function(t){var e=Ut(t);if(e)return e;if("object"==typeof t)return new Tt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var n=r.length,o=0;o!==n;){var i=r[e?n-++o:o++];if(!1===t(i[1],i[0],this))break}return o}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var r=this._cache;if(r){var n=r.length,o=0;return new _t((function(){if(o===n)return{value:void 0,done:!0};var i=r[e?n-++o:o++];return wt(t,i[0],i[1])}))}return this.__iteratorUncached(t,e)},e}(it),kt=function(t){function e(t){return null==t?Bt().toKeyedSeq():Q(t)?et(t)?t.toSeq():t.fromEntrySeq():ht(t)?t.toSeq():zt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(jt),Dt=function(t){function e(t){return null==t?Bt():Q(t)?et(t)?t.entrySeq():t.toIndexedSeq():ht(t)?t.toSeq().entrySeq():Lt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(jt),Pt=function(t){function e(t){return(Q(t)&&!ot(t)?t:Dt(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(jt);jt.isSeq=ft,jt.Keyed=kt,jt.Set=Pt,jt.Indexed=Dt,jt.prototype[ct]=!0;var Ft=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[J(this,t)]:e},e.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length,o=0;o!==n;){var i=e?n-++o:o++;if(!1===t(r[i],i,this))break}return o},e.prototype.__iterator=function(t,e){var r=this._array,n=r.length,o=0;return new _t((function(){if(o===n)return{value:void 0,done:!0};var i=e?n-++o:o++;return wt(t,i,r[i])}))},e}(Dt),Tt=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Et.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,o=n.length,i=0;i!==o;){var s=n[e?o-++i:i++];if(!1===t(r[s],s,this))break}return i},e.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,o=n.length,i=0;return new _t((function(){if(i===o)return{value:void 0,done:!0};var s=n[e?o-++i:i++];return wt(t,s,r[s])}))},e}(kt);Tt.prototype[dt]=!0;var Rt,Mt=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=Ot(this._collection),n=0;if(St(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,n++,this););return n},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=Ot(this._collection);if(!St(r))return new _t(bt);var n=0;return new _t((function(){var e=r.next();return e.done?e:wt(t,n++,e.value)}))},e}(Dt);function Bt(){return Rt||(Rt=new Ft([]))}function zt(t){var e=Array.isArray(t)?new Ft(t):xt(t)?new Mt(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new Tt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Lt(t){var e=Ut(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Ut(t){return At(t)?new Ft(t):xt(t)?new Mt(t):void 0}var Ct="@@__IMMUTABLE_MAP__@@";function qt(t){return Boolean(t&&t[Ct])}function Nt(t){return qt(t)&&yt(t)}function $t(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function Vt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!($t(t)&&$t(e)&&t.equals(e))}var Jt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function Wt(t){return t>>>1&1073741824|3221225471&t}function Kt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return Wt(r)}if("string"===e)return t.length>ee?function(t){var e=oe[t];void 0===e&&(e=Gt(t),ne===re&&(ne=0,oe={}),ne++,oe[t]=e);return e}(t):Gt(t);if("function"==typeof t.hashCode)return Wt(t.hashCode());if("object"===e||"function"===e)return function(t){var e;if(Zt&&void 0!==(e=Xt.get(t)))return e;if(void 0!==(e=t[te]))return e;if(!Yt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[te]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++Qt,1073741824&Qt&&(Qt=0);if(Zt)Xt.set(t,e);else{if(void 0!==Ht&&!1===Ht(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Yt)Object.defineProperty(t,te,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[te]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[te]=e}}return e}(t);if("function"==typeof t.toString)return Gt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Gt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Wt(e)}var Ht=Object.isExtensible,Yt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var Xt,Zt="function"==typeof WeakMap;Zt&&(Xt=new WeakMap);var Qt=0,te="__immutablehash__";"function"==typeof Symbol&&(te=Symbol(te));var ee=16,re=255,ne=0,oe={},ie=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=le(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var r=this,n=fe(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e,n){return t(e,n,r)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(kt);ie.prototype[dt]=!0;var se=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this,n=0;return e&&V(this),this._iter.__iterate((function(o){return t(o,e?r.size-++n:n++,r)}),e)},e.prototype.__iterator=function(t,e){var r=this,n=this._iter.__iterator(1,e),o=0;return e&&V(this),new _t((function(){var i=n.next();return i.done?i:wt(t,e?r.size-++o:o++,i.value,i)}))},e}(Dt),ae=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new _t((function(){var e=r.next();return e.done?e:wt(t,e.value,e.value,e)}))},e}(Pt),ue=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){xe(e);var n=Q(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new _t((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){xe(n);var o=Q(n);return wt(t,o?n.get(0):n[0],o?n.get(1):n[1],e)}}}))},e}(kt);function ce(t){var e=Oe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ie,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(2===e){var n=t.__iterator(e,r);return new _t((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,r)},e}function fe(t,e,r){var n=Oe(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,o){var i=t.get(n,q);return i===q?o:e.call(r,i,n,t)},n.__iterateUncached=function(n,o){var i=this;return t.__iterate((function(t,o,s){return!1!==n(e.call(r,t,o,s),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=t.__iterator(2,o);return new _t((function(){var o=i.next();if(o.done)return o;var s=o.value,a=s[0];return wt(n,a,e.call(r,s[1],a,t),o)}))},n}function le(t,e){var r=this,n=Oe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ce(t);return e.reverse=function(){return t.flip()},e}),n.get=function(r,n){return t.get(e?r:-1-r,n)},n.has=function(r){return t.has(e?r:-1-r)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ie,n.__iterate=function(r,n){var o=this,i=0;return n&&V(t),t.__iterate((function(t,s){return r(t,e?s:n?o.size-++i:i++,o)}),!n)},n.__iterator=function(n,o){var i=0;o&&V(t);var s=t.__iterator(2,!o);return new _t((function(){var t=s.next();if(t.done)return t;var a=t.value;return wt(n,e?a[0]:o?r.size-++i:i++,a[1],t)}))},n}function he(t,e,r,n){var o=Oe(t);return n&&(o.has=function(n){var o=t.get(n,q);return o!==q&&!!e.call(r,o,n,t)},o.get=function(n,o){var i=t.get(n,q);return i!==q&&e.call(r,i,n,t)?i:o}),o.__iterateUncached=function(o,i){var s=this,a=0;return t.__iterate((function(t,i,u){if(e.call(r,t,i,u))return a++,o(t,n?i:a-1,s)}),i),a},o.__iteratorUncached=function(o,i){var s=t.__iterator(2,i),a=0;return new _t((function(){for(;;){var i=s.next();if(i.done)return i;var u=i.value,c=u[0],f=u[1];if(e.call(r,f,c,t))return wt(o,n?c:a++,f,i)}}))},o}function pe(t,e,r,n){var o=t.size;if(K(e,r,o))return t;var i=G(e,o),s=H(r,o);if(i!=i||s!=s)return pe(t.toSeq().cacheResult(),e,r,n);var a,u=s-i;u==u&&(a=u<0?0:u);var c=Oe(t);return c.size=0===a?a:t.size&&a||void 0,!n&&ft(t)&&a>=0&&(c.get=function(e,r){return(e=J(this,e))>=0&&e<a?t.get(e+i,r):r}),c.__iterateUncached=function(e,r){var o=this;if(0===a)return 0;if(r)return this.cacheResult().__iterate(e,r);var s=0,u=!0,c=0;return t.__iterate((function(t,r){if(!u||!(u=s++<i))return c++,!1!==e(t,n?r:c-1,o)&&c!==a})),c},c.__iteratorUncached=function(e,r){if(0!==a&&r)return this.cacheResult().__iterator(e,r);if(0===a)return new _t(bt);var o=t.__iterator(e,r),s=0,u=0;return new _t((function(){for(;s++<i;)o.next();if(++u>a)return{value:void 0,done:!0};var t=o.next();return n||1===e||t.done?t:wt(e,u-1,0===e?void 0:t.value[1],t)}))},c}function de(t,e,r,n){var o=Oe(t);return o.__iterateUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterate(o,i);var a=!0,u=0;return t.__iterate((function(t,i,c){if(!a||!(a=e.call(r,t,i,c)))return u++,o(t,n?i:u-1,s)})),u},o.__iteratorUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterator(o,i);var a=t.__iterator(2,i),u=!0,c=0;return new _t((function(){var t,i,f;do{if((t=a.next()).done)return n||1===o?t:wt(o,c++,0===o?void 0:t.value[1],t);var l=t.value;i=l[0],f=l[1],u&&(u=e.call(r,f,i,s))}while(u);return 2===o?t:wt(o,i,f,t)}))},o}function ye(t,e){var r=et(t),n=[t].concat(e).map((function(t){return Q(t)?r&&(t=st(t)):t=r?zt(t):Lt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===n.length)return t;if(1===n.length){var o=n[0];if(o===t||r&&et(o)||nt(t)&&nt(o))return o}var i=new Ft(n);return r?i=i.toKeyedSeq():nt(t)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),i}function ve(t,e,r){var n=Oe(t);return n.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var s=0,a=!1;return function t(u,c){u.__iterate((function(i,u){return(!e||c<e)&&Q(i)?t(i,c+1):(s++,!1===o(i,r?u:s-1,n)&&(a=!0)),!a}),i)}(t,0),s},n.__iteratorUncached=function(n,o){if(o)return this.cacheResult().__iterator(n,o);var i=t.__iterator(n,o),s=[],a=0;return new _t((function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(2===n&&(u=u[1]),e&&!(s.length<e)||!Q(u))return r?t:wt(n,a++,u,t);s.push(i),i=u.__iterator(n,o)}else i=s.pop()}return{value:void 0,done:!0}}))},n}function ge(t,e,r){e||(e=Ee);var n=et(t),o=0,i=t.toSeq().map((function(e,n){return[n,e,o++,r?r(e,n,t):e]})).valueSeq().toArray();return i.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),n?kt(i):nt(t)?Dt(i):Pt(i)}function me(t,e,r){if(e||(e=Ee),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return _e(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return _e(e,t,r)?r:t}))}function _e(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function we(t,e,r,n){var o=Oe(t),i=new Ft(r).map((function(t){return t.size}));return o.size=n?i.max():i.min(),o.__iterate=function(t,e){for(var r,n=this.__iterator(1,e),o=0;!(r=n.next()).done&&!1!==t(r.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map((function(t){return t=it(t),Ot(o?t.reverse():t)})),s=0,a=!1;return new _t((function(){var r;return a||(r=i.map((function(t){return t.next()})),a=n?r.every((function(t){return t.done})):r.some((function(t){return t.done}))),a?{value:void 0,done:!0}:wt(t,s++,e.apply(null,r.map((function(t){return t.value}))))}))},o}function be(t,e){return t===e?t:ft(t)?e:t.constructor(e)}function xe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Se(t){return et(t)?st:nt(t)?at:ut}function Oe(t){return Object.create((et(t)?kt:nt(t)?Dt:Pt).prototype)}function Ie(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):jt.prototype.cacheResult.call(this)}function Ee(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Ae(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),o=0;o<r;o++)n[o]=t[o+e];return n}function je(t,e){if(!t)throw new Error(e)}function ke(t){je(t!==1/0,"Cannot perform this action with an infinite size.")}function De(t){if(At(t)&&"string"!=typeof t)return t;if(yt(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function Pe(t){return t&&(t.constructor&&"Object"===t.constructor.name||void 0===t.constructor)}function Fe(t){return"object"==typeof t&&(pt(t)||Array.isArray(t)||Pe(t))}function Te(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Re(t,e){return pt(t)?t.has(e):Fe(t)&&Et.call(t,e)}function Me(t,e,r){return pt(t)?t.get(e,r):Re(t,e)?"function"==typeof t.get?t.get(e):t[e]:r}function Be(t){if(Array.isArray(t))return Ae(t);var e={};for(var r in t)Et.call(t,r)&&(e[r]=t[r]);return e}function ze(t,e){if(!Fe(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(pt(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Et.call(t,e))return t;var r=Be(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Le(t,e,r){if(!Fe(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(pt(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Et.call(t,e)&&r===t[e])return t;var n=Be(t);return n[e]=r,n}function Ue(t,e,r,n){n||(n=r,r=void 0);var o=Ce(pt(t),t,De(e),0,r,n);return o===q?r:o}function Ce(t,e,r,n,o,i){var s=e===q;if(n===r.length){var a=s?o:e,u=i(a);return u===a?e:u}if(!s&&!Fe(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Te)+"]: "+e);var c=r[n],f=s?q:Me(e,c,q),l=Ce(f===q?t:pt(f),f,r,n+1,o,i);return l===f?e:l===q?ze(e,c):Le(s?t?_r():{}:e,c,l)}function qe(t,e,r){return Ue(t,e,q,(function(){return r}))}function Ne(t,e){return qe(this,t,e)}function $e(t,e){return Ue(t,e,(function(){return q}))}function Ve(t){return $e(this,t)}function Je(t,e,r,n){return Ue(t,[e],r,n)}function We(t,e,r){return 1===arguments.length?t(this):Je(this,t,e,r)}function Ke(t,e,r){return Ue(this,t,e,r)}function Ge(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ye(this,t)}function He(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return Ye(this,e,t)}function Ye(t,e,r){for(var n=[],o=0;o<e.length;o++){var i=st(e[o]);0!==i.size&&n.push(i)}return 0===n.length?t:0!==t.toSeq().size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var e=r?function(e,n){Je(t,n,q,(function(t){return t===q?e:r(t,e,n)}))}:function(e,r){t.set(r,e)},o=0;o<n.length;o++)n[o].forEach(e)})):t.constructor(n[0])}function Xe(t,e,r){return Ze(t,e,function(t){function e(r,n,o){return Fe(r)&&Fe(n)?Ze(r,[n],e):t?t(r,n,o):n}return e}(r))}function Ze(t,e,r){if(!Fe(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(pt(t))return"function"==typeof r&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),o=t,i=n?at:st,s=n?function(e){o===t&&(o=Be(o)),o.push(e)}:function(e,n){var i=Et.call(o,n),s=i&&r?r(o[n],e,n):e;i&&s===o[n]||(o===t&&(o=Be(o)),o[n]=s)},a=0;a<e.length;a++)i(e[a]).forEach(s);return o}function Qe(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Xe(this,t)}function tr(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Xe(this,e,t)}function er(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ue(this,t,_r(),(function(t){return Ze(t,e)}))}function rr(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ue(this,t,_r(),(function(t){return Xe(t,e)}))}function nr(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function or(){return this.__ownerID?this:this.__ensureOwner(new $)}function ir(){return this.__ensureOwner()}function sr(){return this.__altered}se.prototype.cacheResult=ie.prototype.cacheResult=ae.prototype.cacheResult=ue.prototype.cacheResult=Ie;var ar=function(t){function e(e){return null==e?_r():qt(e)&&!yt(e)?e:_r().withMutations((function(r){var n=t(e);ke(n.size),n.forEach((function(t,e){return r.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return _r().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return wr(this,t,e)},e.prototype.remove=function(t){return wr(this,t,q)},e.prototype.deleteAll=function(t){var e=it(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):_r()},e.prototype.sort=function(t){return Jr(ge(this,t))},e.prototype.sortBy=function(t,e){return Jr(ge(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(r){r.forEach((function(n,o){r.set(o,t.call(e,n,o,r))}))}))},e.prototype.__iterator=function(t,e){return new yr(this,t,e)},e.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?mr(this.size,this._root,t,this.__hash):0===this.size?_r():(this.__ownerID=t,this.__altered=!1,this)},e}(st);ar.isMap=qt;var ur=ar.prototype;ur[Ct]=!0,ur.delete=ur.remove,ur.removeAll=ur.deleteAll,ur.setIn=Ne,ur.removeIn=ur.deleteIn=Ve,ur.update=We,ur.updateIn=Ke,ur.merge=ur.concat=Ge,ur.mergeWith=He,ur.mergeDeep=Qe,ur.mergeDeepWith=tr,ur.mergeIn=er,ur.mergeDeepIn=rr,ur.withMutations=nr,ur.wasAltered=sr,ur.asImmutable=ir,ur["@@transducer/init"]=ur.asMutable=or,ur["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},ur["@@transducer/result"]=function(t){return t.asImmutable()};var cr=function(t,e){this.ownerID=t,this.entries=e};cr.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(Vt(r,o[i][0]))return o[i][1];return n},cr.prototype.update=function(t,e,r,n,o,i,s){for(var a=o===q,u=this.entries,c=0,f=u.length;c<f&&!Vt(n,u[c][0]);c++);var l=c<f;if(l?u[c][1]===o:a)return this;if(N(s),(a||!l)&&N(i),!a||1!==u.length){if(!l&&!a&&u.length>=Er)return function(t,e,r,n){t||(t=new $);for(var o=new pr(t,Kt(r),[r,n]),i=0;i<e.length;i++){var s=e[i];o=o.update(t,0,void 0,s[0],s[1])}return o}(t,u,n,o);var h=t&&t===this.ownerID,p=h?u:Ae(u);return l?a?c===f-1?p.pop():p[c]=p.pop():p[c]=[n,o]:p.push([n,o]),h?(this.entries=p,this):new cr(t,p)}};var fr=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};fr.prototype.get=function(t,e,r,n){void 0===e&&(e=Kt(r));var o=1<<((0===t?e:e>>>t)&C),i=this.bitmap;return 0==(i&o)?n:this.nodes[Or(i&o-1)].get(t+5,e,r,n)},fr.prototype.update=function(t,e,r,n,o,i,s){void 0===r&&(r=Kt(n));var a=(0===e?r:r>>>e)&C,u=1<<a,c=this.bitmap,f=0!=(c&u);if(!f&&o===q)return this;var l=Or(c&u-1),h=this.nodes,p=f?h[l]:void 0,d=br(p,t,e+5,r,n,o,i,s);if(d===p)return this;if(!f&&d&&h.length>=Ar)return function(t,e,r,n,o){for(var i=0,s=new Array(U),a=0;0!==r;a++,r>>>=1)s[a]=1&r?e[i++]:void 0;return s[n]=o,new lr(t,i+1,s)}(t,h,c,a,d);if(f&&!d&&2===h.length&&xr(h[1^l]))return h[1^l];if(f&&d&&1===h.length&&xr(d))return d;var y=t&&t===this.ownerID,v=f?d?c:c^u:c|u,g=f?d?Ir(h,l,d,y):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var o=new Array(n),i=0,s=0;s<n;s++)s===e&&(i=1),o[s]=t[s+i];return o}(h,l,y):function(t,e,r,n){var o=t.length+1;if(n&&e+1===o)return t[e]=r,t;for(var i=new Array(o),s=0,a=0;a<o;a++)a===e?(i[a]=r,s=-1):i[a]=t[a+s];return i}(h,l,d,y);return y?(this.bitmap=v,this.nodes=g,this):new fr(t,v,g)};var lr=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};lr.prototype.get=function(t,e,r,n){void 0===e&&(e=Kt(r));var o=(0===t?e:e>>>t)&C,i=this.nodes[o];return i?i.get(t+5,e,r,n):n},lr.prototype.update=function(t,e,r,n,o,i,s){void 0===r&&(r=Kt(n));var a=(0===e?r:r>>>e)&C,u=o===q,c=this.nodes,f=c[a];if(u&&!f)return this;var l=br(f,t,e+5,r,n,o,i,s);if(l===f)return this;var h=this.count;if(f){if(!l&&--h<jr)return function(t,e,r,n){for(var o=0,i=0,s=new Array(r),a=0,u=1,c=e.length;a<c;a++,u<<=1){var f=e[a];void 0!==f&&a!==n&&(o|=u,s[i++]=f)}return new fr(t,o,s)}(t,c,h,a)}else h++;var p=t&&t===this.ownerID,d=Ir(c,a,l,p);return p?(this.count=h,this.nodes=d,this):new lr(t,h,d)};var hr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};hr.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(Vt(r,o[i][0]))return o[i][1];return n},hr.prototype.update=function(t,e,r,n,o,i,s){void 0===r&&(r=Kt(n));var a=o===q;if(r!==this.keyHash)return a?this:(N(s),N(i),Sr(this,t,e,r,[n,o]));for(var u=this.entries,c=0,f=u.length;c<f&&!Vt(n,u[c][0]);c++);var l=c<f;if(l?u[c][1]===o:a)return this;if(N(s),(a||!l)&&N(i),a&&2===f)return new pr(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,p=h?u:Ae(u);return l?a?c===f-1?p.pop():p[c]=p.pop():p[c]=[n,o]:p.push([n,o]),h?(this.entries=p,this):new hr(t,this.keyHash,p)};var pr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};pr.prototype.get=function(t,e,r,n){return Vt(r,this.entry[0])?this.entry[1]:n},pr.prototype.update=function(t,e,r,n,o,i,s){var a=o===q,u=Vt(n,this.entry[0]);return(u?o===this.entry[1]:a)?this:(N(s),a?void N(i):u?t&&t===this.ownerID?(this.entry[1]=o,this):new pr(t,this.keyHash,[n,o]):(N(i),Sr(this,t,e,Kt(n),[n,o])))},cr.prototype.iterate=hr.prototype.iterate=function(t,e){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===t(r[e?o-n:n]))return!1},fr.prototype.iterate=lr.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[e?o-n:n];if(i&&!1===i.iterate(t,e))return!1}},pr.prototype.iterate=function(t,e){return t(this.entry)};var dr,yr=function(t){function e(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&gr(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this,e=this._type,r=this._stack;r;){var n=r.node,o=r.index++,i=void 0;if(n.entry){if(0===o)return vr(e,n.entry)}else if(n.entries){if(o<=(i=n.entries.length-1))return vr(e,n.entries[t._reverse?i-o:o])}else if(o<=(i=n.nodes.length-1)){var s=n.nodes[t._reverse?i-o:o];if(s){if(s.entry)return vr(e,s.entry);r=t._stack=gr(s,r)}continue}r=t._stack=t._stack.__prev}return{value:void 0,done:!0}},e}(_t);function vr(t,e){return wt(t,e[0],e[1])}function gr(t,e){return{node:t,index:0,__prev:e}}function mr(t,e,r,n){var o=Object.create(ur);return o.size=t,o._root=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function _r(){return dr||(dr=mr(0))}function wr(t,e,r){var n,o;if(t._root){var i={value:!1},s={value:!1};if(n=br(t._root,t.__ownerID,0,void 0,e,r,i,s),!s.value)return t;o=t.size+(i.value?r===q?-1:1:0)}else{if(r===q)return t;o=1,n=new cr(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=o,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?mr(o,n):_r()}function br(t,e,r,n,o,i,s,a){return t?t.update(e,r,n,o,i,s,a):i===q?t:(N(a),N(s),new pr(e,n,[o,i]))}function xr(t){return t.constructor===pr||t.constructor===hr}function Sr(t,e,r,n,o){if(t.keyHash===n)return new hr(e,n,[t.entry,o]);var i,s=(0===r?t.keyHash:t.keyHash>>>r)&C,a=(0===r?n:n>>>r)&C,u=s===a?[Sr(t,e,r+5,n,o)]:(i=new pr(e,n,o),s<a?[t,i]:[i,t]);return new fr(e,1<<s|1<<a,u)}function Or(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Ir(t,e,r,n){var o=n?t:Ae(t);return o[e]=r,o}var Er=8,Ar=16,jr=8,kr="@@__IMMUTABLE_LIST__@@";function Dr(t){return Boolean(t&&t[kr])}var Pr=function(t){function e(e){var r=Lr();if(null==e)return r;if(Dr(e))return e;var n=t(e),o=n.size;return 0===o?r:(ke(o),o>0&&o<U?zr(0,o,5,null,new Tr(n.toArray())):r.withMutations((function(t){t.setSize(o),n.forEach((function(e,r){return t.set(r,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=J(this,t))>=0&&t<this.size){var r=qr(this,t+=this._origin);return r&&r.array[t&C]}return e},e.prototype.set=function(t,e){return function(t,e,r){if((e=J(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Nr(t,e).set(0,r):Nr(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,o=t._root,i={value:!1};e>=$r(t._capacity)?n=Ur(n,t.__ownerID,0,e,r,i):o=Ur(o,t.__ownerID,t._level,e,r,i);if(!i.value)return t;if(t.__ownerID)return t._root=o,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return zr(t._origin,t._capacity,t._level,o,n)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Lr()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){Nr(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},e.prototype.pop=function(){return Nr(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Nr(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},e.prototype.shift=function(){return Nr(this,1)},e.prototype.concat=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++){var o=e[n],i=t("string"!=typeof o&&xt(o)?o:[o]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(t){r.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(r[0])},e.prototype.setSize=function(t){return Nr(this,0,t)},e.prototype.map=function(t,e){var r=this;return this.withMutations((function(n){for(var o=0;o<r.size;o++)n.set(o,t.call(e,n.get(o),o,n))}))},e.prototype.slice=function(t,e){var r=this.size;return K(t,e,r)?this:Nr(this,G(t,r),H(e,r))},e.prototype.__iterator=function(t,e){var r=e?this.size:0,n=Br(this,e);return new _t((function(){var o=n();return o===Mr?{value:void 0,done:!0}:wt(t,e?--r:r++,o)}))},e.prototype.__iterate=function(t,e){for(var r,n=e?this.size:0,o=Br(this,e);(r=o())!==Mr&&!1!==t(r,e?--n:n++,this););return n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?zr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?Lr():(this.__ownerID=t,this.__altered=!1,this)},e}(at);Pr.isList=Dr;var Fr=Pr.prototype;Fr[kr]=!0,Fr.delete=Fr.remove,Fr.merge=Fr.concat,Fr.setIn=Ne,Fr.deleteIn=Fr.removeIn=Ve,Fr.update=We,Fr.updateIn=Ke,Fr.mergeIn=er,Fr.mergeDeepIn=rr,Fr.withMutations=nr,Fr.wasAltered=sr,Fr.asImmutable=ir,Fr["@@transducer/init"]=Fr.asMutable=or,Fr["@@transducer/step"]=function(t,e){return t.push(e)},Fr["@@transducer/result"]=function(t){return t.asImmutable()};var Tr=function(t,e){this.array=t,this.ownerID=e};Tr.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&C;if(n>=this.array.length)return new Tr([],t);var o,i=0===n;if(e>0){var s=this.array[n];if((o=s&&s.removeBefore(t,e-5,r))===s&&i)return this}if(i&&!o)return this;var a=Cr(this,t);if(!i)for(var u=0;u<n;u++)a.array[u]=void 0;return o&&(a.array[n]=o),a},Tr.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,o=r-1>>>e&C;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((n=i&&i.removeAfter(t,e-5,r))===i&&o===this.array.length-1)return this}var s=Cr(this,t);return s.array.splice(o+1),n&&(s.array[o]=n),s};var Rr,Mr={};function Br(t,e){var r=t._origin,n=t._capacity,o=$r(n),i=t._tail;return s(t._root,t._level,0);function s(t,a,u){return 0===a?function(t,s){var a=s===o?i&&i.array:t&&t.array,u=s>r?0:r-s,c=n-s;c>U&&(c=U);return function(){if(u===c)return Mr;var t=e?--c:u++;return a&&a[t]}}(t,u):function(t,o,i){var a,u=t&&t.array,c=i>r?0:r-i>>o,f=1+(n-i>>o);f>U&&(f=U);return function(){for(;;){if(a){var t=a();if(t!==Mr)return t;a=null}if(c===f)return Mr;var r=e?--f:c++;a=s(u&&u[r],o-5,i+(r<<o))}}}(t,a,u)}}function zr(t,e,r,n,o,i,s){var a=Object.create(Fr);return a.size=e-t,a._origin=t,a._capacity=e,a._level=r,a._root=n,a._tail=o,a.__ownerID=i,a.__hash=s,a.__altered=!1,a}function Lr(){return Rr||(Rr=zr(0,0,5))}function Ur(t,e,r,n,o,i){var s,a=n>>>r&C,u=t&&a<t.array.length;if(!u&&void 0===o)return t;if(r>0){var c=t&&t.array[a],f=Ur(c,e,r-5,n,o,i);return f===c?t:((s=Cr(t,e)).array[a]=f,s)}return u&&t.array[a]===o?t:(i&&N(i),s=Cr(t,e),void 0===o&&a===s.array.length-1?s.array.pop():s.array[a]=o,s)}function Cr(t,e){return e&&t&&e===t.ownerID?t:new Tr(t?t.array.slice():[],e)}function qr(t,e){if(e>=$r(t._capacity))return t._tail;if(e<1<<t._level+5){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&C],n-=5;return r}}function Nr(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new $,o=t._origin,i=t._capacity,s=o+e,a=void 0===r?i:r<0?i+r:o+r;if(s===o&&a===i)return t;if(s>=a)return t.clear();for(var u=t._level,c=t._root,f=0;s+f<0;)c=new Tr(c&&c.array.length?[void 0,c]:[],n),f+=1<<(u+=5);f&&(s+=f,o+=f,a+=f,i+=f);for(var l=$r(i),h=$r(a);h>=1<<u+5;)c=new Tr(c&&c.array.length?[c]:[],n),u+=5;var p=t._tail,d=h<l?qr(t,a-1):h>l?new Tr([],n):p;if(p&&h>l&&s<i&&p.array.length){for(var y=c=Cr(c,n),v=u;v>5;v-=5){var g=l>>>v&C;y=y.array[g]=Cr(y.array[g],n)}y.array[l>>>5&C]=p}if(a<i&&(d=d&&d.removeAfter(n,0,a)),s>=h)s-=h,a-=h,u=5,c=null,d=d&&d.removeBefore(n,0,s);else if(s>o||h<l){for(f=0;c;){var m=s>>>u&C;if(m!==h>>>u&C)break;m&&(f+=(1<<u)*m),u-=5,c=c.array[m]}c&&s>o&&(c=c.removeBefore(n,u,s-f)),c&&h<l&&(c=c.removeAfter(n,u,h-f)),f&&(s-=f,a-=f)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):zr(s,a,u,c,d)}function $r(t){return t<U?0:t-1>>>5<<5}var Vr,Jr=function(t){function e(t){return null==t?Kr():Nt(t)?t:Kr().withMutations((function(e){var r=st(t);ke(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Kr()},e.prototype.set=function(t,e){return Gr(this,t,e)},e.prototype.remove=function(t){return Gr(this,t,q)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Wr(e,r,t,this.__hash):0===this.size?Kr():(this.__ownerID=t,this._map=e,this._list=r,this)},e}(ar);function Wr(t,e,r,n){var o=Object.create(Jr.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=r,o.__hash=n,o}function Kr(){return Vr||(Vr=Wr(_r(),Lr()))}function Gr(t,e,r){var n,o,i=t._map,s=t._list,a=i.get(e),u=void 0!==a;if(r===q){if(!u)return t;s.size>=U&&s.size>=2*i.size?(n=(o=s.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=o.__ownerID=t.__ownerID)):(n=i.remove(e),o=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(r===s.get(a)[1])return t;n=i,o=s.set(a,[e,r])}else n=i.set(e,s.size),o=s.set(s.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=o,t.__hash=void 0,t):Wr(n,o)}Jr.isOrderedMap=Nt,Jr.prototype[dt]=!0,Jr.prototype.delete=Jr.prototype.remove;var Hr="@@__IMMUTABLE_STACK__@@";function Yr(t){return Boolean(t&&t[Hr])}var Xr=function(t){function e(t){return null==t?en():Yr(t)?t:en().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var r=this._head;for(t=J(this,t);r&&t--;)r=r.next;return r?r.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:t[n],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):tn(e,r)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Yr(e))return e;ke(e.size);var r=this.size,n=this._head;return e.__iterate((function(t){r++,n={value:t,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):tn(r,n)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):en()},e.prototype.slice=function(e,r){if(K(e,r,this.size))return this;var n=G(e,this.size);if(H(r,this.size)!==this.size)return t.prototype.slice.call(this,e,r);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):tn(o,i)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?tn(this.size,this._head,t,this.__hash):0===this.size?en():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var r=this;if(e)return new Ft(this.toArray()).__iterate((function(e,n){return t(e,n,r)}),e);for(var n=0,o=this._head;o&&!1!==t(o.value,n++,r);)o=o.next;return n},e.prototype.__iterator=function(t,e){if(e)return new Ft(this.toArray()).__iterator(t,e);var r=0,n=this._head;return new _t((function(){if(n){var e=n.value;return n=n.next,wt(t,r++,e)}return{value:void 0,done:!0}}))},e}(at);Xr.isStack=Yr;var Zr,Qr=Xr.prototype;function tn(t,e,r,n){var o=Object.create(Qr);return o.size=t,o._head=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function en(){return Zr||(Zr=tn(0))}Qr[Hr]=!0,Qr.shift=Qr.pop,Qr.unshift=Qr.push,Qr.unshiftAll=Qr.pushAll,Qr.withMutations=nr,Qr.wasAltered=sr,Qr.asImmutable=ir,Qr["@@transducer/init"]=Qr.asMutable=or,Qr["@@transducer/step"]=function(t,e){return t.unshift(e)},Qr["@@transducer/result"]=function(t){return t.asImmutable()};var rn="@@__IMMUTABLE_SET__@@";function nn(t){return Boolean(t&&t[rn])}function on(t){return nn(t)&&yt(t)}function sn(t,e){if(t===e)return!0;if(!Q(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||et(t)!==et(e)||nt(t)!==nt(e)||yt(t)!==yt(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!ot(t);if(yt(t)){var n=t.entries();return e.every((function(t,e){var o=n.next().value;return o&&Vt(o[1],t)&&(r||Vt(o[0],e))}))&&n.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var s=!0,a=e.__iterate((function(e,n){if(r?!t.has(e):o?!Vt(e,t.get(n,q)):!Vt(t.get(n,q),e))return s=!1,!1}));return s&&t.size===a}function an(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function un(t){if(!t||"object"!=typeof t)return t;if(!Q(t)){if(!Fe(t))return t;t=jt(t)}if(et(t)){var e={};return t.__iterate((function(t,r){e[r]=un(t)})),e}var r=[];return t.__iterate((function(t){r.push(un(t))})),r}var cn=function(t){function e(e){return null==e?dn():nn(e)&&!yt(e)?e:dn().withMutations((function(r){var n=t(e);ke(n.size),n.forEach((function(t){return r.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(st(t).keySeq())},e.intersect=function(t){return(t=it(t).toArray()).length?ln.intersect.apply(e(t.pop()),t):dn()},e.union=function(t){return(t=it(t).toArray()).length?ln.union.apply(e(t.pop()),t):dn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return hn(this,this._map.set(t,t))},e.prototype.remove=function(t){return hn(this,this._map.remove(t))},e.prototype.clear=function(){return hn(this,this._map.clear())},e.prototype.map=function(t,e){var r=this;return hn(this,this._map.map((function(e){return t(e,e,r)}),e))},e.prototype.union=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(r){for(var n=0;n<e.length;n++)t(e[n]).forEach((function(t){return r.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return Fn(ge(this,t))},e.prototype.sortBy=function(t,e){return Fn(ge(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(ut);cn.isSet=nn;var fn,ln=cn.prototype;function hn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pn(t,e){var r=Object.create(ln);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function dn(){return fn||(fn=pn(_r()))}ln[rn]=!0,ln.delete=ln.remove,ln.merge=ln.concat=ln.union,ln.withMutations=nr,ln.asImmutable=ir,ln["@@transducer/init"]=ln.asMutable=or,ln["@@transducer/step"]=function(t,e){return t.add(e)},ln["@@transducer/result"]=function(t){return t.asImmutable()},ln.__empty=dn,ln.__make=pn;var yn,vn=function(t){function e(t,r,n){if(!(this instanceof e))return new e(t,r,n);if(je(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<t&&(n=-n),this._start=t,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-t)/n-1)+1),0===this.size){if(yn)return yn;yn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+J(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,r){return K(t,r,this.size)?this:(t=G(t,this.size),(r=H(r,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var r=this.size,n=this._step,o=e?this._start+(r-1)*n:this._start,i=0;i!==r&&!1!==t(o,e?r-++i:i++,this);)o+=e?-n:n;return i},e.prototype.__iterator=function(t,e){var r=this.size,n=this._step,o=e?this._start+(r-1)*n:this._start,i=0;return new _t((function(){if(i===r)return{value:void 0,done:!0};var s=o;return o+=e?-n:n,wt(t,e?r-++i:i++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:sn(this,t)},e}(Dt);function gn(t,e,r){for(var n=De(e),o=0;o!==n.length;)if((t=Me(t,n[o++],q))===q)return r;return t}function mn(t,e){return gn(this,t,e)}function _n(t,e){return gn(t,e,q)!==q}function wn(){ke(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t}it.isIterable=Q,it.isKeyed=et,it.isIndexed=nt,it.isAssociative=ot,it.isOrdered=yt,it.Iterator=_t,an(it,{toArray:function(){ke(this.size);var t=new Array(this.size||0),e=et(this),r=0;return this.__iterate((function(n,o){t[r++]=e?[o,n]:n})),t},toIndexedSeq:function(){return new se(this)},toJS:function(){return un(this)},toKeyedSeq:function(){return new ie(this,!0)},toMap:function(){return ar(this.toKeyedSeq())},toObject:wn,toOrderedMap:function(){return Jr(this.toKeyedSeq())},toOrderedSet:function(){return Fn(et(this)?this.valueSeq():this)},toSet:function(){return cn(et(this)?this.valueSeq():this)},toSetSeq:function(){return new ae(this)},toSeq:function(){return nt(this)?this.toIndexedSeq():et(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Xr(et(this)?this.valueSeq():this)},toList:function(){return Pr(et(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return be(this,ye(this,t))},includes:function(t){return this.some((function(e){return Vt(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){ke(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!t.call(e,n,o,i))return r=!1,!1})),r},filter:function(t,e){return be(this,he(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return ke(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ke(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return be(this,fe(this,t,e))},reduce:function(t,e,r){return On(this,t,e,r,arguments.length<2,!1)},reduceRight:function(t,e,r){return On(this,t,e,r,arguments.length<2,!0)},reverse:function(){return be(this,le(this,!0))},slice:function(t,e){return be(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(An(t),e)},sort:function(t){return be(this,ge(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return V(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=ar().asMutable();return t.__iterate((function(o,i){n.update(e.call(r,o,i,t),0,(function(t){return t+1}))})),n.asImmutable()}(this,t,e)},equals:function(t){return sn(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Ft(t._cache);var e=t.toSeq().map(En).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(An(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate((function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1})),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(W,null,t)},flatMap:function(t,e){return be(this,function(t,e,r){var n=Se(t);return t.toSeq().map((function(o,i){return n(e.call(r,o,i,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return be(this,ve(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find((function(e,r){return Vt(r,t)}),void 0,e)},getIn:mn,groupBy:function(t,e){return function(t,e,r){var n=et(t),o=(yt(t)?Jr():ar()).asMutable();t.__iterate((function(i,s){o.update(e.call(r,i,s,t),(function(t){return(t=t||[]).push(n?[s,i]:i),t}))}));var i=Se(t);return o.map((function(e){return be(t,i(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,q)!==q},hasIn:function(t){return _n(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:it(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:it(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return Vt(e,t)}))},keySeq:function(){return this.toSeq().map(In).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return me(this,t)},maxBy:function(t,e){return me(this,e,t)},min:function(t){return me(this,t?jn(t):Dn)},minBy:function(t,e){return me(this,e?jn(e):Dn,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return be(this,de(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(An(t),e)},sortBy:function(t,e){return be(this,ge(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return be(this,function(t,e,r){var n=Oe(t);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var s=0;return t.__iterate((function(t,o,a){return e.call(r,t,o,a)&&++s&&n(t,o,i)})),s},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var s=t.__iterator(2,o),a=!0;return new _t((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var o=t.value,u=o[0],c=o[1];return e.call(r,c,u,i)?2===n?t:wt(n,u,c,t):(a=!1,{value:void 0,done:!0})}))},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(An(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=yt(t),r=et(t),n=e?1:0;return function(t,e){return e=Jt(e,3432918353),e=Jt(e<<15|e>>>-15,461845907),e=Jt(e<<13|e>>>-13,5),e=Jt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Wt((e=Jt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Pn(Kt(t),Kt(e))|0}:function(t,e){n=n+Pn(Kt(t),Kt(e))|0}:e?function(t){n=31*n+Kt(t)|0}:function(t){n=n+Kt(t)|0}),n)}(this))}});var bn=it.prototype;bn[Z]=!0,bn[mt]=bn.values,bn.toJSON=bn.toArray,bn.__toStringMapper=Te,bn.inspect=bn.toSource=function(){return this.toString()},bn.chain=bn.flatMap,bn.contains=bn.includes,an(st,{flip:function(){return be(this,ce(this))},mapEntries:function(t,e){var r=this,n=0;return be(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return be(this,this.toSeq().flip().map((function(n,o){return t.call(e,n,o,r)})).flip())}});var xn=st.prototype;xn[tt]=!0,xn[mt]=bn.entries,xn.toJSON=wn,xn.__toStringMapper=function(t,e){return Te(e)+": "+Te(t)},an(at,{toKeyedSeq:function(){return new ie(this,!1)},filter:function(t,e){return be(this,he(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return be(this,le(this,!1))},slice:function(t,e){return be(this,pe(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(e||0,0),0===r||2===r&&!e)return this;t=G(t,t<0?this.count():this.size);var n=this.slice(0,t);return be(this,1===r?n:n.concat(Ae(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return be(this,ve(this,t,!1))},get:function(t,e){return(t=J(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=J(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return be(this,function(t,e){var r=Oe(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return t.__iterate((function(t){return(!i||!1!==r(e,i++,o))&&!1!==r(t,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=t.__iterator(1,n),s=0;return new _t((function(){return(!o||s%2)&&(o=i.next()).done?o:s%2?wt(r,s++,e):wt(r,s++,o.value,o)}))},r}(this,t))},interleave:function(){var t=[this].concat(Ae(arguments)),e=we(this.toSeq(),Dt.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),be(this,r)},keySeq:function(){return vn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return be(this,de(this,t,e,!1))},zip:function(){var t=[this].concat(Ae(arguments));return be(this,we(this,kn,t))},zipAll:function(){var t=[this].concat(Ae(arguments));return be(this,we(this,kn,t,!0))},zipWith:function(t){var e=Ae(arguments);return e[0]=this,be(this,we(this,t,e))}});var Sn=at.prototype;function On(t,e,r,n,o,i){return ke(t.size),t.__iterate((function(t,i,s){o?(o=!1,r=t):r=e.call(n,r,t,i,s)}),i),r}function In(t,e){return e}function En(t,e){return[e,t]}function An(t){return function(){return!t.apply(this,arguments)}}function jn(t){return function(){return-t.apply(this,arguments)}}function kn(){return Ae(arguments)}function Dn(t,e){return t<e?1:t>e?-1:0}function Pn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Sn[rt]=!0,Sn[dt]=!0,an(ut,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),ut.prototype.has=bn.includes,ut.prototype.contains=ut.prototype.includes,an(kt,st.prototype),an(Dt,at.prototype),an(Pt,ut.prototype);var Fn=function(t){function e(t){return null==t?Bn():on(t)?t:Bn().withMutations((function(e){var r=ut(t);ke(r.size),r.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(st(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(cn);Fn.isOrderedSet=on;var Tn,Rn=Fn.prototype;function Mn(t,e){var r=Object.create(Rn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Bn(){return Tn||(Tn=Mn(Kr()))}Rn[dt]=!0,Rn.zip=Sn.zip,Rn.zipWith=Sn.zipWith,Rn.__empty=Bn,Rn.__make=Mn;var zn=function(t,e){var r,n=function(i){var s=this;if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(t),u=o._indices={};o._name=e,o._keys=a,o._defaultValues=t;for(var c=0;c<a.length;c++){var f=a[c];u[f]=c,o[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Cn(s)+\' with property "\'+f+\'" since that property name is part of the Record API.\'):Nn(o,f)}}this.__ownerID=void 0,this._values=Pr().withMutations((function(t){t.setSize(s._keys.length),st(i).forEach((function(e,r){t.set(s._indices[r],e===s._defaultValues[r]?void 0:e)}))}))},o=n.prototype=Object.create(Ln);return o.constructor=n,n};zn.prototype.toString=function(){for(var t,e=Cn(this)+" { ",r=this._keys,n=0,o=r.length;n!==o;n++)e+=(n?", ":"")+(t=r[n])+": "+Te(this.get(t));return e+" }"},zn.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&qn(this).equals(qn(t))},zn.prototype.hashCode=function(){return qn(this).hashCode()},zn.prototype.has=function(t){return this._indices.hasOwnProperty(t)},zn.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],n=this._values.get(r);return void 0===n?this._defaultValues[t]:n},zn.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return Un(this,r)}return this},zn.prototype.remove=function(t){return this.set(t)},zn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Un(this,t)},zn.prototype.wasAltered=function(){return this._values.wasAltered()},zn.prototype.toSeq=function(){return qn(this)},zn.prototype.toJS=function(){return un(this)},zn.prototype.entries=function(){return this.__iterator(2)},zn.prototype.__iterator=function(t,e){return qn(this).__iterator(t,e)},zn.prototype.__iterate=function(t,e){return qn(this).__iterate(t,e)},zn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?Un(this,e,t):(this.__ownerID=t,this._values=e,this)},zn.isRecord=ht,zn.getDescriptiveName=Cn;var Ln=zn.prototype;function Un(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function Cn(t){return t._name||t.constructor.name||"Record"}function qn(t){return zt(t._keys.map((function(e){return[e,t.get(e)]})))}function Nn(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){je(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}Ln[lt]=!0,Ln.delete=Ln.remove,Ln.deleteIn=Ln.removeIn=Ve,Ln.getIn=mn,Ln.hasIn=bn.hasIn,Ln.merge=Ge,Ln.mergeWith=He,Ln.mergeIn=er,Ln.mergeDeep=Qe,Ln.mergeDeepWith=tr,Ln.mergeDeepIn=rr,Ln.setIn=Ne,Ln.update=We,Ln.updateIn=Ke,Ln.withMutations=nr,Ln.asMutable=or,Ln.asImmutable=ir,Ln[mt]=Ln.entries,Ln.toJSON=Ln.toObject=bn.toObject,Ln.inspect=Ln.toSource=function(){return this.toString()};var $n;!function(t){function e(t,r){if(!(this instanceof e))return new e(t,r);if(this._value=t,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if($n)return $n;$n=this}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return Vt(this._value,t)},e.prototype.slice=function(t,r){var n=this.size;return K(t,r,n)?this:new e(this._value,H(r,n)-G(t,n))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return Vt(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return Vt(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var r=this.size,n=0;n!==r&&!1!==t(this._value,e?r-++n:n++,this););return n},e.prototype.__iterator=function(t,e){var r=this,n=this.size,o=0;return new _t((function(){return o===n?{value:void 0,done:!0}:wt(t,e?n-++o:o++,r._value)}))},e.prototype.equals=function(t){return t instanceof e?Vt(this._value,t._value):sn(t)}}(Dt);function Vn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wn(t){const e=t.defaultValues||{},r=t.prototype;r._defaultValues=Jn(Jn({},r._defaultValues||{}),e);const n=Object.keys(r._defaultValues);r._keys=n,r._indices={};for(let t=0;t<n.length;t++){const e=n[t];r._indices[e]=t}n.forEach((t=>{Object.defineProperty(r,t,{get(){return this.get(t)},set(e){this.set(t,e)}})}))}class Kn extends(zn({})){}class Gn extends Kn{constructor(t){super(t)}scale(t,e){return this.withMutations((r=>{e||(e=t),r.set("x",this.x*t).set("y",this.y*e)}))}translate(t){let{x:e,y:r}=t;return this.withMutations((t=>{t.set("x",this.x+e).set("y",this.y+r)}))}translateX(t){return this.translate(new Gn({x:t,y:0}))}translateY(t){return this.translate(new Gn({x:0,y:t}))}distance(t){return Math.sqrt((t.x-this.x)**2+(t.y-this.y)**2)}rotate(t){n(t%90==0,"Only multiples of 90 allowed."),t%=360;const{x:e,y:r}=this;switch(t){case 0:return this;case 90:return this.set("x",r).set("y",-e);case 180:return this.set("x",-e).set("y",-r);case 270:return this.set("x",-r).set("y",e);default:throw new Error("Unsupported rotation")}}apply(t){const[e,r]=t.applyToVector([this.x,this.y]);return this.withMutations((t=>{t.set("x",e).set("y",r)}))}}o(Gn,"defaultValues",{x:0,y:0}),Wn(Gn);const Hn=Gn;function Yn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class Zn extends Hn{constructor(t){super(t)}}o(Zn,"defaultValues",Xn(Xn({},Hn.defaultValues),{},{intensity:.5})),Wn(Zn);class Qn extends(zn({width:0,height:0})){scale(t){return this.withMutations((e=>{e.set("width",this.width*t).set("height",this.height*t)}))}ceil(){return this.withMutations((t=>{t.set("width",Math.ceil(this.width)).set("height",Math.ceil(this.height))}))}floor(){return this.withMutations((t=>{t.set("width",Math.floor(this.width)).set("height",Math.floor(this.height))}))}swapDimensions(){return this.withMutations((t=>{t.set("width",this.height).set("height",this.width)}))}apply(t){const[e,r]=t.applyToSize([this.width,this.height]);return this.withMutations((t=>{t.set("width",Math.abs(e)).set("height",Math.abs(r))}))}}class to extends Kn{constructor(t){super(t)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}static fromClientRect(t){let{top:e,left:r,width:n,height:o}=t;return new to({top:e,left:r,width:n,height:o})}static union(t){const e=t.map((t=>t.top)).min(),r=t.map((t=>t.bottom)).max()-e,n=t.map((t=>t.left)).min(),o=t.map((t=>t.right)).max()-n;return new to({left:n,top:e,width:o,height:r})}static getCenteredRect(t,e){return new to({left:(e.width-t.width)/2,top:(e.height-t.height)/2,width:t.width,height:t.height})}static fromInset(t){return new to({left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top})}translate(t){let{x:e,y:r}=t;return this.withMutations((t=>{t.set("left",this.left+e).set("top",this.top+r)}))}translateX(t){return this.set("left",this.left+t)}translateY(t){return this.set("top",this.top+t)}scale(t,e){return this.withMutations((r=>{e||(e=t),r.set("left",this.left*t).set("top",this.top*e).set("width",this.width*t).set("height",this.height*e)}))}grow(t){return this.withMutations((e=>{e.set("left",this.left-t).set("top",this.top-t).set("width",this.width+2*t).set("height",this.height+2*t)}))}getLocation(){return new Hn({x:this.left,y:this.top})}getSize(){return new Qn({width:this.width,height:this.height})}getCenter(){return new Hn({x:this.left+this.width/2,y:this.top+this.height/2})}setLocation(t){return this.withMutations((e=>{e.set("left",t.x).set("top",t.y)}))}roundOverlap(){return this.withMutations((t=>{t.set("left",Math.floor(this.left)).set("top",Math.floor(this.top)).set("width",Math.ceil(this.width)).set("height",Math.ceil(this.height))}))}round(){return this.withMutations((t=>{t.set("left",Math.round(this.left)).set("top",Math.round(this.top)).set("width",Math.round(this.width)).set("height",Math.round(this.height))}))}isPointInside(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom}isRectInside(t){return this.isPointInside(t.getLocation())&&this.isPointInside(t.getLocation().translate(new Hn({x:t.width,y:t.height})))}isRectOverlapping(t){return t.left<this.right&&t.right>this.left&&t.top<this.bottom&&t.bottom>this.top}normalize(){return this.withMutations((t=>t.set("left",this.width<0?this.left+this.width:this.left).set("top",this.height<0?this.top+this.height:this.top).set("width",Math.abs(this.width)).set("height",Math.abs(this.height))))}apply(t){const[e,r]=t.applyToVector([this.left,this.top]),[n,o]=t.applyToSize([this.width,this.height]);return this.withMutations((t=>t.set("left",e).set("top",r).set("width",n).set("height",o))).normalize()}}o(to,"defaultValues",{left:0,top:0,width:0,height:0}),Wn(to);const eo=to;class ro extends Kn{translate(t){let{x:e,y:r}=t;return this.transform(1,0,e,0,1,r)}translateX(t){return this.translate({x:t,y:0})}translateY(t){return this.translate({x:0,y:t})}scale(t,e){return e||(e=t),this.transform(t,0,0,0,e,0)}transform(t,e,r,n,o,i){const{a:s,b:a,c:u,d:c,e:f,f:l}=this;return this.withMutations((h=>h.set("a",t*s+e*c).set("b",t*a+e*f).set("c",t*u+e*l+r).set("d",n*s+o*c).set("e",n*a+o*f).set("f",n*u+o*l+i)))}rotate(t){n(t%90==0,"Only multiples of 90 allowed.");const e=(360-t)*Math.PI/180,r=Math.cos(e),o=Math.sin(e);return this.transform(r,-o,0,o,r,0)}rotateRad(t){const e=Math.cos(t),r=Math.sin(t);return this.transform(e,-r,0,r,e,0)}inverse(){const{a:t,b:e,c:r,d:n,e:o,f:i}=this,s=t*o-e*n;return this.withMutations((a=>a.set("a",o/s).set("b",-e/s).set("c",-(o*r-e*i)/s).set("d",-n/s).set("e",t/s).set("f",-(-r*n+t*i)/s)))}toCssValue(){const{a:t,b:e,c:r,d:n,e:o,f:i}=this;return`matrix(${t.toFixed(2)}, ${n.toFixed(2)}, ${e.toFixed(2)}, ${o.toFixed(2)}, ${r.toFixed(2)}, ${i.toFixed(2)})`}applyToVector(t){let[e,r]=t;const{a:n,b:o,c:i,d:s,e:a,f:u}=this;return[n*e+o*r+i,s*e+a*r+u]}applyToSize(t){let[e,r]=t;const n=this.applyToVector([0,0]),o=this.applyToVector([e,r]);return[o[0]-n[0],o[1]-n[1]]}}o(ro,"defaultValues",{a:1,b:0,c:0,d:0,e:1,f:0}),o(ro,"IDENTITY",new ro),Wn(ro);class no extends(zn({left:0,top:0,right:0,bottom:0})){static applyToRect(t,r){if(!(t instanceof no))throw new e("`inset` must be an instance of `PSPDFKit.Geometry.Inset`");if(!(r instanceof eo))throw new e("`rect` must be an instance of `PSPDFKit.Geometry.Rect`");return new eo({top:r.top+t.top,left:r.left+t.left,width:r.width-(t.left+t.right),height:r.height-(t.top+t.bottom)})}static fromRect(t){return new no({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height})}static fromValue(t){if("number"!=typeof t)throw new e("The provided value must be a number");return new no({top:t,left:t,right:t,bottom:t})}apply(t){const e=t.applyToVector([this.left,this.top]),r=t.applyToVector([this.left,this.bottom]),n=t.applyToVector([this.right,this.top]),o=t.applyToVector([this.right,this.bottom]),i=Math.min(e[0],r[0],n[0],o[0]),s=Math.max(e[0],r[0],n[0],o[0]),a=Math.min(e[1],r[1],n[1],o[1]),u=Math.max(e[1],r[1],n[1],o[1]);return new no({left:i,right:s,top:a,bottom:u})}}class oo extends Kn{constructor(t){if(super(t),this.constructor===oo)throw new e("PSPDFKit.Annotations.Annotation is an abstract base class and can not be instantiated")}}o(oo,"defaultValues",{id:null,name:null,subject:null,pdfObjectId:null,pageIndex:null,boundingBox:new eo,opacity:1,action:null,note:null,creatorName:null,createdAt:new Date(0),updatedAt:new Date(0),customData:null,noPrint:!1,noZoom:!1,noRotate:!1,noView:!1,hidden:!1,blendMode:"normal",additionalActions:null,isCommentThreadRoot:!1,group:void 0,isEditable:void 0,isDeletable:void 0,canSetGroup:void 0,canReply:void 0,APStreamCache:void 0}),Wn(oo);const io=oo;class so extends(zn({r:0,g:0,b:0})){lighter(t){n("number"==typeof t&&t>=0&&t<=100,"Invalid `percent` value. Must be 0-100.");const e=255*t/100;let r=parseInt(this.r+e),o=parseInt(this.g+e),i=parseInt(this.b+e);return r=r<255?r:255,o=o<255?o:255,i=i<255?i:255,new so({r,g:o,b:i})}darker(t){n("number"==typeof t&&t>=0&&t<=100,"Invalid `percent` value. Must be 0-100.");const e=255*t/100;let r=parseInt(this.r-e),o=parseInt(this.g-e),i=parseInt(this.b-e);return r=r>0?r:0,o=o>0?o:0,i=i>0?i:0,new so({r,g:o,b:i})}equals(t){return n(t instanceof so||"object"==typeof t,"Invalid `color` provided. It must be an instance of Color or an RGB object."),n("number"==typeof t.r&&t.r>=0&&t.r<=255,"Invalid `r` value provided. It must be an integer between 0 and 255."),n("number"==typeof t.g&&t.g>=0&&t.g<=255,"Invalid `g` value provided. It must be an integer between 0 and 255."),n("number"==typeof t.b&&t.b>=0&&t.b<=255,"Invalid `b` value provided. It must be an integer between 0 and 255."),this.r===t.r&&this.g===t.g&&this.b===t.b}saturate(t){n("number"==typeof t&&t>=0&&t<=100,"Invalid `percent` value. Must be 0-100.");const e=t/100,r=.3086*this.r+.6094*this.g+.082*this.b;return new so({r:Math.round(this.r*e+r*(1-e)),g:Math.round(this.g*e+r*(1-e)),b:Math.round(this.b*e+r*(1-e))})}sRGBToRGBComponent(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}relativeLuminance(){const{r:t,g:e,b:r}={r:this.r/255,g:this.g/255,b:this.b/255},{R:n,G:o,B:i}={R:this.sRGBToRGBComponent(t),G:this.sRGBToRGBComponent(e),B:this.sRGBToRGBComponent(r)};return.2126*n+.7152*o+.0722*i}contrastRatio(t){return(this.relativeLuminance()+.05)/(t.relativeLuminance()+.05)}toCSSValue(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){let t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r}}o(so,"BLACK",new so({r:0,g:0,b:0})),o(so,"GREY",new so({r:128,g:128,b:128})),o(so,"WHITE",new so({r:255,g:255,b:255})),o(so,"DARK_BLUE",new so({r:36,g:131,b:199})),o(so,"RED",new so({r:248,g:36,b:0})),o(so,"PURPLE",new so({r:255,g:0,b:255})),o(so,"PINK",new so({r:255,g:114,b:147})),o(so,"GREEN",new so({r:110,g:176,b:0})),o(so,"ORANGE",new so({r:243,g:149,b:0})),o(so,"YELLOW",new so({r:255,g:255,b:0})),o(so,"LIGHT_BLUE",new so({r:141,g:184,b:255})),o(so,"LIGHT_RED",new so({r:247,g:141,b:138})),o(so,"LIGHT_GREEN",new so({r:162,g:250,b:123})),o(so,"LIGHT_YELLOW",new so({r:252,g:238,b:124})),o(so,"BLUE",new so({r:34,g:147,b:251})),o(so,"fromHex",(t=>new so({r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)})));class ao extends io{isMeasurement(){return null!==this.measurementScale}constructor(t){super(t)}}o(ao,"readableName","Shape"),o(ao,"defaultValues",{strokeWidth:5,strokeColor:so.BLUE,fillColor:null,strokeDashArray:null,measurementPrecision:null,measurementScale:null}),Wn(ao);const uo=ao;class co extends uo{constructor(t){super(t)}}o(co,"defaultValues",{startPoint:new Hn,endPoint:new Hn,lineCaps:null}),o(co,"readableName","Line"),Wn(co);class fo extends uo{constructor(t){super(t)}}o(fo,"defaultValues",{points:Pr(),lineCaps:null}),o(fo,"readableName","Polyline"),Wn(fo);class lo extends uo{constructor(t){super(t)}}o(lo,"defaultValues",{points:Pr(),cloudyBorderIntensity:null}),o(lo,"readableName","Polygon"),Wn(lo);function ho(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}class po extends uo{constructor(t){super(yo(t))}}function yo(t){if(!t)return;const e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ho(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t);if(Number(t.cloudyBorderIntensity)>0&&!t.cloudyBorderInset){const r=4.25*Number(t.cloudyBorderIntensity)+(t.strokeWidth||uo.defaultValues.strokeWidth)/2;return e.cloudyBorderInset=no.fromValue(r),e}return e}o(po,"defaultValues",{cloudyBorderIntensity:null,cloudyBorderInset:null}),o(po,"readableName","Ellipse"),Wn(po);class vo extends uo{constructor(t){super(yo(t))}}o(vo,"defaultValues",{cloudyBorderIntensity:null,cloudyBorderInset:null}),o(vo,"readableName","Rectangle"),Wn(vo);var go;!function(t){t[t.in=0]="in",t[t.mm=1]="mm",t[t.cm=2]="cm",t[t.pt=3]="pt",t[t.ft=4]="ft",t[t.m=5]="m",t[t.yd=6]="yd",t[t.km=7]="km",t[t.mi=8]="mi"}(go||(go={}));function mo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mo(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const wo="/create.pdf",bo="/save.pdf",xo="/embedded.pdf",So="WebAssembly/asm.js module not loaded.";let Oo=null,Io=!1,Eo=!1,Ao=null,jo=[],ko=null,Do=null;function Po(t){return null!=t&&null!=t.length&&0===t.length}const Fo=["configurePDFJavaScriptSupport","closeDocument","setFormValues","openDocument","saveDocument","importXFDF","importInstantDocumentJSON"];function To(t){n(Oo,"WebAssembly/asm.js module not loaded.");for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];const i=r.map((t=>Po(t)?JSON.stringify(t):t));Fo.includes(t)&&Vo();const s=Oo[t](...i)||\'{ "success": true }\',a=JSON.parse(s);if(!a.success)throw new Error(a.error);return a}function Ro(t){n(Oo,"WebAssembly/asm.js module not loaded.");for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];Fo.includes(t)&&Vo();const i=r.map((t=>Po(t)?JSON.stringify(t):t)),s=Oo[t](...i);return s}const Mo=["run_pdf_formatting_scripts","run_pdf_javascript","set_form_values_get_script_changes","edit_document","prepare_sign_invisible","sign","on_keystroke_event","save_document"];function Bo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(Oo,"WebAssembly/asm.js module not loaded.");const r=JSON.stringify(_o({type:t},e));Mo.includes(t)&&Vo();const o=Oo.dispatchCommand(r);if(o.hasError()){const e=new Error(o.getErrorMessage()||"There was an error while executing the command: "+t);throw o.delete(),e}const i=[];for(let t=0;t<o.getRepliesCount();t++)o.hasJSONReply(t)&&i.push(JSON.parse(o.getJSONReply(t))),o.hasBinaryReply(t)&&i.push(o.getBinaryReply(t).slice(0));return o.delete(),i}function zo(t,e){return`${t}/${e}.pdf`}async function Lo(t,e){const r=Math.random().toString(36).slice(-5),o=await Promise.all(Object.entries(e).map((async e=>{let[n,o]=e;return t.forEach((t=>{t.document===n&&"importDocument"===t.type?(!1===t.treatImportedDocumentAsOnePage&&(t.treatImportedDocumentAsOnePage=void 0),t.document=zo(r,n)):(t.dataFilePath===n&&"applyInstantJson"===t.type||t.dataFilePath===n&&"applyXfdf"===t.type)&&(t.dataFilePath=zo(r,n))})),{basename:n,buffer:await T(o)}})));return o.forEach((t=>{!function(t,e,r){n(Oo,So),Oo.FS.analyzePath(t).exists||Oo.FS.mkdir(t),Oo.FS.writeFile(zo(t,e),r)}(r,t.basename,t.buffer)})),function(){o.forEach((t=>{!function(t,e){n(Oo,So),Oo.FS.unlink(zo(t,e))}(r,t.basename)}))}}function Uo(){Eo=!0;const t=To("configurePDFJavaScriptSupport",!0);return n(t.success,"An error occurred while executing the document level JavaScript."),t.changes||[]}function Co(t,e){let r;try{r=Bo("edit_document",{save_path:e,operations:t})}catch(t){throw new Error(`Error applying operations to document: ${t.message}`)}return r}let qo,No=null,$o=!1;function Vo(){$o||(No=null,qo=!1)}function Jo(t){$o&&!t&&($o=!1,No&&Ko(No)),$o=t}function Wo(){return null===No&&(No=Bo("read_form_json_objects"),qo=!1),No}function Ko(t){let e;if($o){if(null===t)throw $o=!1,new Error("Error enqueuing form JSON objects: form fields JSON is null.");return No&&!qo&&(qo=!0),void(No=t)}if(qo||!$o){try{Vo(),e=Bo("apply_form_json_objects",{form_fields_with_widgets:t})}catch(t){throw new Error("Error applying form JSON objects to /create.pdf: "+t.message)}return e}}function Go(t,e,r,o,i,a){let u,c;n("number"==typeof t.pageIndex,"Annotation must have a pageIndex");try{if(n("number"==typeof t.pdfObjectId,"Cannot call renderAnnotation() for an annotation without pdfObjectId."),c=Ro("renderAnnotation",i,t.pdfObjectId,t.pageIndex,0,r,o,a||"normal"),c.hasError()||1!==c.getRepliesCount()){const t=c.getErrorMessage(),e=c.getErrorReason();throw new Error(e+": "+t)}u=c.getBinaryReply(0).slice(0)}catch(t){s(t.message)}finally{c&&c.delete()}return u}function Ho(t,e){let{width:r,height:n}=e;return"webp"===t&&(r>16383||n>16383)?"png":t}const Yo=new class{constructor(){o(this,"_pdfObjectIdsForIds",{}),o(this,"comparisonDocuments",{}),o(this,"lastOpenedComparisonDocument",null),o(this,"persistedOpenDocument",null)}loadNativeModule(t,e){let{disableWebAssembly:r,disableWebAssemblyStreaming:n,enableAutomaticLinkExtraction:o,overrideMemoryLimit:s}=e;return Do=Date.now(),Io=o,Ao=s,function(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:self;return new Promise((async o=>{const s=!e&&k(n),a=D(t,r,s),u=s?await F(`${t}${I}`):await F(`${t}${A}`);i(`Using ${s?"WASM":"ASM.js"} method`),P(n);const c=await u(a);if(o({nativeModule:c}),void 0===n.crypto){const{FS:t}=c,e=function(){return 256*Math.random()|0};t.unlink("/dev/random"),t.unlink("/dev/urandom"),t.createDevice("/dev","random",e),t.createDevice("/dev","urandom",e)}}))}(t,r,n).then((t=>{let{nativeModule:e}=t;Oo=e;const r=To("PSPDFKitVersion").version;if(1!==r)throw new Error(`Native version mismatch. Please update the dependencies. Expected 1 but got ${r}.`)}))}async load(t,e,r){let o,{mainThreadOrigin:s,customFonts:a,isSharePoint:u,isSalesforce:c}=r;n(Oo,So);try{const t=a?"/fonts":"";a&&!Oo.FS.analyzePath(t).exists&&function(t,e){n(Oo,So),Oo.FS.mkdir(e),Oo.FS.mount(Oo.FS.filesystems.WORKERFS,{blobs:t},e)}(a,t),o=Oo.initPSPDFKit(null==e?"":e,s,t,"",u?"SPO":c?"SF":"")}catch(t){if(void 0===t.message&&p)return;throw t}const f=JSON.parse(o);if(Do&&i(`Native initialization complete, took: ${Date.now()-Do}ms`),!f.success)throw new Error("Failed to initialize PSPDFKit: "+f.error);return f}async openDocument(t,e,r){try{return n(Oo,So),null!==Ao&&To("overrideMemoryLimit",Ao),ko=e,Oo.FS.writeFile(wo,new Uint8Array(t)),this.openAndReturnDocumentInfo(r)}finally{this._pdfObjectIdsForIds={}}}async reloadDocument(){try{return To("closeDocument"),this.openAndReturnDocumentInfo()}finally{this._pdfObjectIdsForIds={}}}async openAndReturnDocumentInfo(t){To("openDocument",wo,JSON.stringify({password:ko})),Eo&&Uo(),To("automaticLinkExtraction",Io);const e=To("getDocumentInfo").documentInfo;if(e.pageCount<=0)return e;let r=[];if("number"==typeof t){const n=await this.getPageInfo(t);for(let o=0;o<e.pageCount;o++){const e=_o(_o({},n),{},{pageIndex:o,pageLabel:t===o?n.pageLabel:String(o+1)});r.push(e)}}else r=await this.getAllPageInfos(e.pageCount);return e.pages=r,e}async getPageInfo(t){try{const e=Bo("page_info",{query:"page_info",page:t});n(1===e.length,"expected page_info result to return 1 result when specifying index.");const r=L(e[0]);return JSON.parse(r).pageInfo}catch(e){return a(`Dimensional information for page ${t} unavailable, page will not be displayed.`),{height:0,matrix:[0,0,0,0,0,0],pageLabel:"",reverseMatrix:[0,0,0,0,0,0],transformedBBox:[0,0,0,0],untransformedBBox:[0,0,0,0],width:0,pageIndex:t,rawPdfBoxes:{bleedBox:null,cropBox:null,mediaBox:null,trimBox:null}}}}async getAllPageInfos(t){const e=[];try{const r=Bo("page_info",{query:"page_info",page:"all"});n(r.length===t,"expected the same length of page info response to page count.");for(let t=0;t<r.length;t++){const n=L(r[t]),o=JSON.parse(n);e.push(o.pageInfo)}}catch(r){a("There was an error retrieving page information for all pages from core. Reverting to individual queries.");for(let r=0;r<t;r++)try{const t=Bo("page_info",{query:"page_info",page:r});n(1===t.length,"expected page_info result to return 1 result when specifying index.");const o=L(t[0]),i=JSON.parse(o);e.push(i.pageInfo)}catch(t){a(`Dimensional information for page ${r} unavailable, page will not be displayed.`);const n={height:0,matrix:[0,0,0,0,0,0],pageLabel:"",reverseMatrix:[0,0,0,0,0,0],transformedBBox:[0,0,0,0],untransformedBBox:[0,0,0,0],width:0,pageIndex:r,rawPdfBoxes:{bleedBox:null,cropBox:null,mediaBox:null,trimBox:null}};e.push(n)}}return e}async enablePDFJavaScriptSupport(){return Uo()}async runPDFFormattingScripts(t,e){let r;n(Eo,"PDF Formatting Scripts can only run after JavaScript is enabled.");try{r=Bo("run_pdf_formatting_scripts",{form_fields:t,only_if_no_ap_stream:e})}catch(t){throw new Error("An error occurred while executing the document level JavaScript formatting.\\n\\n"+t.message)}return r[0].changes||[]}async openDocumentAt(){throw new Error("Should never be called")}async getBookmarks(){const t=Bo("get_bookmarks");return n(1===t.length,"expected only one response for getBookmarks"),t[0].bookmarks||[]}async getFormJSON(){return To("getFormJSON").formJSON}async getFormValues(){return To("getFormValues").formValues}async setFormValues(t){const e=Wo();let r=!1;const n=e.map((e=>{const n=t.find((t=>t.name===e.formField.name));return n?n.value===e.value||Array.isArray(n.value)&&Array.isArray(e.value)&&n.value.every(((t,r)=>t===e.value[r]))?e:(r=!0,_o(_o({},e),{},{value:n.value})):e}));r&&Ko(n)}async setFormFieldValue(t){await this.setFormValues([t])}async applyOperations(t,e){const r=await Lo(t,e),n=Co(t,wo);return r(),n}async exportPDFWithOperations(t,e){const r=await Lo(t,e);let o;n(Oo,So);try{Co(t,bo),o=Oo.FS.readFile(bo).buffer}catch(t){throw new Error("Error applying operations: "+t.message)}return r(),o}async getSignaturesInfo(){try{return Bo("get_signatures",{certificate_check_time:"current_time"})[0]}catch(t){throw new Error(`Error getting signatures info: ${t.message}`)}}async prepareSignInvisible(t,e){let r;try{r=Bo("get_signatures",{certificate_check_time:"current_time"})[0];const t="not_signed"!==r.status;To("saveDocument",bo,!1,t,false,false,"pdf",!1),To("openDocument",bo,JSON.stringify({password:ko}))}catch(t){throw new Error(`Error saving document backup for invisible signing: ${t}`)}try{const t=!e&&"not_signed"!==r.status;To("saveDocument",wo,e,t,false,false,"pdf",!1),e&&(To("openDocument",wo,JSON.stringify({password:ko})),Eo&&Uo())}catch(t){throw new Error(`Error saving document for invisible signing: ${t}`)}let o;try{o=Bo("prepare_sign_invisible",{signer_data_source:_o(_o({},t),{},{type:"pspdfkit/signer-data-source"}),signature_metadata:{type:"pspdfkit/signature-metadata"}})}catch(t){throw new Error(`Error preparing document for invisible signing: ${t}`)}n(Oo,So);const i=Oo.FS.readFile(o[0].result.file_contents).buffer;return Oo.FS.unlink(o[0].result.file_contents),{file:o[0].result.file,hash:o[0].result.hash,signatureFormFieldName:o[0].result.signature_form_fqn,dataToBeSigned:o[0].result.data_to_be_signed,fileContents:i}}async sign(t,e,r){let n;try{n=Bo("sign",{password:ko,save_path:wo,file_path:t,signature_form_fqn:e,pkcs7_container:r}),To("openDocument",wo,JSON.stringify({password:ko})),Eo&&Uo()}catch(t){throw new Error(`Error signing document: ${t}`)}return n[0].result}async restoreToOriginalState(){try{To("openDocument",bo,JSON.stringify({password:ko})),Eo&&Uo();const t="not_signed"!==Bo("get_signatures",{certificate_check_time:"current_time"})[0].status;To("saveDocument",wo,!1,t,!1,!1,"pdf",!1),To("openDocument",wo,JSON.stringify({password:ko})),Eo&&Uo()}catch(t){throw new Error(`Could not restore backup document: ${t}`)}}async evalFormValuesActions(t){const e=Bo("set_form_values_get_script_changes",{form_values:t});return n(1===e.length,"expected only one response for evalFormValuesActions"),e[0].changes}async readFormJSONObjects(){return Wo()}async setFormJSONUpdateBatchMode(t){await Jo(t)}async evalScript(t,e){const r=Bo("run_pdf_javascript",{pdf_javascript_contents:t,pdf_javascript_form_fqn:e});return n(1===r.length,"expected only one response for evalScript"),r[0].changes}async closeDocument(){try{return jo=[],ko=null,Eo=!1,To("closeDocument")}finally{this._pdfObjectIdsForIds={}}}async renderTile(t,e,r,o,i,s,a,u){n(Oo,So);const c=Bo("render_tile",{render_annotations:Boolean(s||a),print_rendering:o,page:t,bitmap_width:r.width,bitmap_height:r.height,bitmap_x:r.left,bitmap_y:r.top,page_width:e.width,page_height:e.height,format:Ho(u,{width:r.width,height:r.height}),render_text:i});if("bitmap"===u)return c[0];const f=new Blob([c[0]],{type:`image/${u}`});return URL.createObjectURL(f)}async renderAnnotation(t,e,r,n,o,i){return Go(_o(_o({},t),{},{pdfObjectId:this._getPdfObjectIdForObject(t)}),e&&await T(e),r,n,o,i)}async renderPageAnnotations(t,e,r,n,o){return e.map(((e,i)=>Go({pdfObjectId:e,pageIndex:t},0,r[i],n[i],Ho(o,{width:r[i],height:n[i]}))))}async renderDetachedAnnotation(t,e,r,o,i){n(Oo,So);const s=e?await T(e):null,a=e?e.type:null;let u,c;const f=new Oo.VectorUint8;try{if(null!=s)for(let t=0;t<s.byteLength;t++)f.push_back(s[t]);if(c=Ro("renderDetachedAnnotation",i,JSON.stringify(_o(_o({},t),{},{pdfObjectId:this._getPdfObjectIdForObject(t),pageIndex:0})),0,r,o,f,a||""),c.hasError()||1!==c.getRepliesCount()){const t=c.getErrorMessage(),e=c.getErrorReason();throw new Error(e+": "+t)}u=c.getBinaryReply(0).slice(0)}finally{f&&f.delete(),c&&c.delete()}return u}async loadCertificates(t){if(Bo("load_certificates",{certificates:t}).length>0)throw new e("Internal error while loading certificates")}async getAttachment(t){let e,r,n;const o=await this.getEmbeddedFilesList(),i=null==o?void 0:o.map((t=>t.id)),s=null==i?void 0:i.includes(t);try{if(s)Bo("extract_embedded_file",{id:t,file_path:xo}),e=Oo.FS.readFile(xo).buffer;else{if(r=Ro("getAnnotationAttachment",t),r.hasError()||1!==r.getRepliesCount()){const t=r.getErrorMessage(),e=r.getErrorReason();throw new Error("Error fetching attachment: "+e+", "+t)}n=JSON.parse(r.getJSONReply(0)).encoding,e=r.getBinaryReply(0).slice(0)}}finally{var a;null!==(a=Oo.FS.analyzePath(xo))&&void 0!==a&&a.exists&&Oo.FS.unlink(xo),r&&r.delete()}return[e,n]}async textForPageIndex(t){return To("textForPageIndex",t).textBlocks}async annotationsForPageIndex(t){const e=await To("annotationsForPageIndex",t);return["rollover","down"].forEach((t=>{var r,n;null===(r=e.apstream_variants)||void 0===r||null===(n=r[t])||void 0===n||n.forEach((r=>{const n=e.annotations.find((t=>t.pdfObjectId===r));n?n[t]=!0:e.annotations.push({pdfObjectId:r,[t]:!0})}))})),e.annotations}async createAnnotation(t,e){n(Oo,So),n("number"==typeof t.pageIndex,"Annotation must have a pageIndex");const r=t.pdfObjectId,o=e?await T(e):null;let i;const s=new Oo.VectorUint8;try{if(null!=o)for(let t=0;t<o.byteLength;t++)s.push_back(o[t]);"pspdfkit/widget"===t.type&&(Jo(!1),Vo()),i=To("createAnnotation",JSON.stringify(_o(_o({},t),{},{pdfObjectId:null})),s)}finally{s&&s.delete()}return"number"==typeof r&&"number"==typeof this._pdfObjectIdsForIds[r.toString()]&&delete this._pdfObjectIdsForIds[r.toString()],this._pdfObjectIdsForIds[t.id||i.pdfObjectId.toString()]=i.pdfObjectId,i.pdfObjectId}async updateAnnotation(t){const e=_o(_o({},t),{},{pdfObjectId:this._getPdfObjectIdForObject(t)});if(n(e.id,"Annotation must have an ID"),n("number"==typeof e.pageIndex,"Annotation must have a pageIndex"),"pspdfkit/widget"===e.type){const t=Wo(),r="number"==typeof e.pdfObjectId?e.pdfObjectId.toString():e.id;Ko(t.map((t=>t.formField.annotationIds.includes(r)||t.formField.annotationIds.includes(String(e.pdfObjectId))?_o(_o({},t),{},{widgets:t.widgets.map((t=>t.id===r||String(t.pdfObjectId)===r?e:t))}):t)))}else To("updateAnnotation",JSON.stringify(e),0,0)}async deleteAnnotation(t){if(t.APStreamCache&&await this.updateAnnotation(t),"pspdfkit/widget"===t.type)try{const e=t.id;Ko(Wo().map((r=>{if(r.formField.annotationIds.includes(e)||r.formField.annotationIds.includes(String(t.pdfObjectId))){let t;if(("pspdfkit/form-field/checkbox"===r.formField.type||"pspdfkit/form-field/radio"===r.formField.type)&&r.formField.options.length===r.formField.annotationIds.length){const n=r.formField.annotationIds.indexOf(e);t=r.formField.options.filter(((t,e)=>e!==n))}const n=r.widgets.filter((t=>e!==(t.id||String(t.pdfObjectId)))),o=r.formField.annotationIds.filter((t=>t!==e));return n.length>0&&o.length>0?_o(_o({},r),{},{formField:_o(_o({},r.formField),{},{annotationIds:o},t?{options:t}:null),widgets:n}):null}return r})).filter(Boolean))}catch(t){throw t}else try{Bo("remove_annotations",{annotation_ids:[this._getPdfObjectIdForObject(t)]})}catch(e){s(`Removing annotation failed for annotation: ${JSON.stringify(t)}`)}delete this._pdfObjectIdsForIds[t.id||t.pdfObjectId.toString()]}async createFormField(t,e){Ko(Wo().concat([{type:"pspdfkit/form-field-with-widgets",formField:t,widgets:e}]));const r=Wo().find((e=>e.formField.name===t.name));if(!r)throw new Error(`Error creating new form field in /create.pdf: created form field not found. ${JSON.stringify({type:"pspdfkit/form-field-with-widgets",formField:t,widgets:e})}`);r.widgets.forEach((t=>{this._pdfObjectIdsForIds[t.id]=t.pdfObjectId}))}async updateFormField(t,e){const r=Wo(),n=r.find((e=>e.formField.name===t.name));if(!n)throw new Error(`Error updating form field with name "${t.name}" in /create.pdf: form field not found. ${JSON.stringify(r)}`);Ko(r.map((r=>{if(r.formField.name===t.name){const n=_o({type:"pspdfkit/form-field-with-widgets",formField:_o(_o({},r.formField),t),widgets:e.reduce(((t,e)=>[...t,_o(_o({},r.widgets.find((t=>t.id===e.id||t.pdfObjectId===e.pdfObjectId))),e)]),[])},void 0!==r.value?{value:r.value}:null);return t.flags||delete n.formField.flags,n}return r})));if(!Wo().find((e=>e.formField.name===t.name)))throw new Error(`Error updating form field "${t.name}" in /create.pdf: updated form field not found. ${JSON.stringify({type:"pspdfkit/form-field-with-widgets",formField:t,widgets:e})}`);n.widgets.forEach((t=>{e.some((e=>e.id===t.id))||delete this._pdfObjectIdsForIds[t.id]}))}async deleteFormField(t){const e=Wo(),r=e.find((e=>e.formField.name===t.name));if(!r)return;Ko(e.filter((e=>e.formField.name!==t.name)));const n=Wo().find((e=>e.formField.name===t.name));if(n)throw new Error(`Error deleting form field with name "${t.name}" in /create.pdf: form field still present. ${JSON.stringify(n)}`);r.widgets.forEach((t=>{delete this._pdfObjectIdsForIds[t.id]}))}async deleteFormFieldValue(t){Ko(Wo().map((e=>e.formField.name===t?{formField:e.formField,widgets:e.widgets,type:e.type}:e)))}async createBookmark(t){try{Bo("append_bookmarks",{bookmarks:[t]})}catch(t){throw new Error(`Error creating new bookmark in /create.pdf: ${t.message}`)}}async updateBookmark(t){try{var e;Bo("remove_bookmarks",{bookmarkIds:[null!==(e=t.id)&&void 0!==e?e:t.pdfBookmarkId]}),Bo("append_bookmarks",{bookmarks:[t]})}catch(t){throw new Error(`Error updating bookmark in /create.pdf: ${t.message}`)}}async deleteBookmark(t){try{Bo("remove_bookmarks",{bookmarkIds:[t]})}catch(t){throw new Error(`Error deleting bookmark in /create.pdf: ${t.message}`)}}async getTextFromRects(t,e){return To("getTextFromRects",t,JSON.stringify(e.map((t=>[t.left,t.top,t.width,t.height])))).text}async search(t,e,r,n){return Bo("search",{query:t,start_index:e,limit:r,case_sensitive:n,search_type:arguments.length>4&&void 0!==arguments[4]?arguments[4]:R})}async parseXFDF(t){const e=new Oo.VectorUint8;try{const r=new Uint8Array(function(t){const e=new ArrayBuffer(2*t.length),r=new Uint16Array(e);for(let e=0,n=t.length;e<n;e++)r[e]=t.charCodeAt(e);return e}(t));for(let t=0;t<r.byteLength;t++)e.push_back(r[t]);const n=await Oo.dispatchCommandWithBinary(JSON.stringify({type:"convert_xfdf_to_instant_json"}),e);if(n.hasError()){const t=new Error(n.getErrorMessage()||"There was an error while executing the command: convert_xfdf_to_instant_json");throw n.delete(),t}const o=[];for(let t=0;t<n.getRepliesCount();t++)n.hasBinaryReply(t)&&o.push(n.getBinaryReply(t).slice(0));const i=function(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let t=0;t<n;t++)e+=String.fromCharCode(r[t]);return e}(o[0].buffer);return n.delete(),JSON.parse(i)}catch(t){throw t}}async getEmbeddedFilesList(){return Bo("list_embedded_files")[0].embeddedFiles||null}async getMeasurementSnappingPoints(t){const e=Bo("get_snapping_points",{page:t});return e[0].snappingPoints?function(t){const e=[...t.endpoints,...t.intersections,...t.midpoints],r=[];for(let t=0;t<e.length;t+=2){const n=[e[t],e[t+1]];r.push(n)}return r.sort(((t,e)=>t[0]==e[0]?t[1]-e[1]:t[0]-e[0]))}(e[0].snappingPoints):null}async exportFile(t,e,r,o,i,s){let a={mimeType:"application/pdf",extension:"pdf"};try{const n=Bo("save_document",{file_path:bo,format:o,flatten_annotations:t,save_incrementally:e,apply_redactions:!1,save_for_printing:r,remove_all_annotations:i,preserve_change_tracker_state:s})[0];n.format&&(a={mimeType:n.format.mime_type,extension:n.format.extension})}catch(t){throw new Error(`Error saving to /save.pdf: ${t.message}`)}n(Oo,So);return[Oo.FS.readFile(bo).buffer,a]}async importXFDF(t,e){jo.push({source:t,keepCurrentAnnotations:e}),e||function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push("pspdfkit/widget"),To("removeAllAnnotations",JSON.stringify(t),JSON.stringify(e))}(),To("importXFDF",t)}async exportXFDF(){return To("exportXFDF",[],[]).XFDF}async importInstantJSON(t){To("importInstantDocumentJSON",JSON.stringify(t))}async exportInstantJSON(){const t=To("exportInstantDocumentJSON");return JSON.parse(t.InstantDocumentJSON)}async getDocumentOutline(){const t=Bo("get_outline");return n(1===t.length,"expected only one response for getDocumentOutline"),t[0].outline||[]}async onKeystrokeEvent(t){const e=Bo("on_keystroke_event",{pdf_javascript_event:t});n(1===e.length,"expected only one response for onKeystrokeEvent");const r=e[0].changes||[];return n(r.length>0&&4===r[0].change_type,"expected onKeystrokeEvent to return at least one JavaScript Event change."),r}async version(){return To("PSPDFKitVersion").version}getImportedXFDF(){return jo}async applyRedactions(){try{return To("saveDocument",wo,!1,!1,!0,!1,"pdf",!1)||{}}catch(t){throw new Error(`Error applying redactions and saving to /create.pdf: ${t.message}`)}}async clearAPStreamCache(){To("clearAPStreamCache")}async setComparisonDocument(t,e){this.comparisonDocuments[t]=e||(await this.exportFile(!1,!1,!1,"pdf",!1,!1))[0]}async openComparisonDocument(t){return n(this.comparisonDocuments[t]),t===this.lastOpenedComparisonDocument||t===M&&null===this.lastOpenedComparisonDocument&&this.persistedOpenDocument instanceof ArrayBuffer?null:(this.lastOpenedComparisonDocument=t,this.openDocument(this.comparisonDocuments[t],this.persistedOpenDocument===t?this.persistedOpenDocumentPassword:void 0))}async documentCompareAndOpen(t){n(this.comparisonDocuments[M]&&this.comparisonDocuments[B],"One or both comparison input documents are missing.");const e=`${M}.pdf`,r=`${B}.pdf`;Oo.FS.writeFile(e,new Uint8Array(this.comparisonDocuments[M])),Oo.FS.writeFile(r,new Uint8Array(this.comparisonDocuments[B]));return Bo("comparison",{documentA:{strokeColor:t.documentA.strokeColor,pageIndex:t.documentA.pageIndex,filePath:e},documentB:{strokeColor:t.documentB.strokeColor,pageIndex:t.documentB.pageIndex,filePath:r},options:_o(_o({},t.options),{},{outputFilePath:"output.pdf"})}),await this.closeDocument(),this.comparisonDocuments[z]=Oo.FS.readFile("output.pdf").buffer,this.lastOpenedComparisonDocument=z,this.openDocument(this.comparisonDocuments[z],void 0)}async persistOpenDocument(t){if(t)this.persistedOpenDocument=t;else try{this.persistedOpenDocument=(await this.exportFile(!1,!1,!1,"pdf",!1,!0))[0]}catch(t){throw new Error(`Error trying to persist a copy of the currently opened document: ${t.message}`)}this.persistedOpenDocumentPassword=ko}async cleanupDocumentComparison(){n(this.persistedOpenDocument,"No persisted previous document key or array buffer is available.");const t=this.persistedOpenDocument instanceof ArrayBuffer?this.persistedOpenDocument:this.comparisonDocuments[this.persistedOpenDocument];n(t,"No persisted previous array buffer is available.");try{await this.closeDocument()}catch(t){throw new Error(`Error trying to close the current document: ${t.message}`)}const e=this.openDocument(t,this.persistedOpenDocumentPassword);return this.persistedOpenDocument=null,this.persistedOpenDocumentPassword=null,this.lastOpenedComparisonDocument=null,this.comparisonDocuments={},e}_getPdfObjectIdForObject(t){return"number"==typeof t.pdfObjectId?t.pdfObjectId:this._pdfObjectIdsForIds[t.id]}async contentEditorEnter(){Bo("content_editing/enter")}async contentEditorExit(){Bo("content_editing/exit")}async contentEditorGetTextBlocks(t){const e=Bo("content_editing/get_text_blocks",{pageIndex:t});return n(1===e.length,"expected only one response for getTextBlocks"),e[0]}async contentEditorRenderTextBlock(t,e,r){const o=Bo("content_editing/render_text_block",{textBlockId:t,renderTextBlockParams:e,externalControlState:r});return n(2===o.length,"expected only two responses for renderTextBlock. ArrayBuffer and Size info."),{imageBuffer:o[1],displayRect:o[0].displayRect}}async contentEditorSetTextBlockCursor(t,e,r,o){const i=Bo("content_editing/set_cursor",{textBlockId:t,offset:e,selectText:r,externalControlState:o});return n(1===i.length,"expected only one response for setTextBlockCursor"),i[0]}async contentEditorMoveTextBlockCursor(t,e,r,o){const i=Bo("content_editing/move_cursor",{textBlockId:t,movement:e,selectText:r,externalControlState:o});return n(1===i.length,"expected only one response for moveTextBlockCursor"),i[0]}async contentEditorInsertTextBlockString(t,e,r){const o=Bo("content_editing/insert_text",{textBlockId:t,text:e,externalControlState:r});return n(1===o.length,"expected only one response for insertTextBlockString"),o[0]}async contentEditorDeleteTextBlockString(t,e,r){const o=Bo("content_editing/delete_cluster",{textBlockId:t,direction:e,externalControlState:r});return n(1===o.length,"expected only one response for deleteTextBlockString"),o[0]}async contentEditorSetTextBlockSelection(t,e,r){const o=Bo("content_editing/set_selection",{textBlockId:t,mode:e,externalControlState:r});return n(1===o.length,"expected only one response for setTextBlockSelection"),o[0]}async contentEditorSetTextBlockSelectionRange(t,e,r,o,i){const s=Bo("content_editing/set_selection_range",{textBlockId:t,begin:e,end:r,mode:o,externalControlState:i});return n(1===s.length,"expected only one response for setTextBlockSelection"),s[0]}async contentEditorTextBlockUndo(t,e){const r=Bo("content_editing/undo",{textBlockId:t,externalControlState:e});return n(1===r.length,"expected only one response for textBlockUndo"),r[0]}async contentEditorTextBlockRedo(t,e){const r=Bo("content_editing/redo",{textBlockId:t,externalControlState:e});return n(1===r.length,"expected only one response for textBlockRedo"),r[0]}async contentEditorTextBlockApplyFormat(t,e,r){const o=Bo("content_editing/apply_format",{textBlockId:t,formatModifications:e,externalControlState:r});return n(1===o.length,"expected only one response for textBlockApplyFormat"),o[0]}async contentEditorGetAvailableFaces(){const t=Bo("content_editing/available_faces");return n(1===t.length,"expected only one response for available_faces"),t[0]}async contentEditorResolveFace(t,e){const r=Bo("content_editing/resolve_face",{family:t,variant:e});return n(1===r.length,"expected only one response for resolve_face"),r[0].faceId}async contentEditorSave(t){let e;try{e=Bo("content_editing/save_to_document",{path:wo,textBlockSaveInfos:t})}catch(t){throw new Error(`Error saving to /save.pdf: ${t.message}`)}return e}},Xo=self;if(Xo.global=Xo,Xo.module={},void 0===Xo.performance){const t=Date.now();Xo.performance={now:()=>Date.now()-t}}Xo.onmessage=async t=>{let e,{data:r}=t,n=null;try{const t=await Yo[r.action](...r.args);if(e={id:r.id,result:t},Array.isArray(t)){const e=t.filter((t=>t instanceof ArrayBuffer));e.length>0&&(n=e)}t instanceof ArrayBuffer&&(n=[t])}catch(t){const o=r.args.filter((t=>t instanceof ArrayBuffer));o.length>0&&(n=o),e={id:r.id,error:t.message||t.toString(),callArgs:r.args}}Xo.postMessage(e,n||void 0)}})()})();',null)}},69855:t=>{"use strict";var e=window.URL||window.webkitURL;t.exports=function(t,r){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(e.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!r)throw Error("Inline worker is not supported");return new Worker(r)}}}}]);